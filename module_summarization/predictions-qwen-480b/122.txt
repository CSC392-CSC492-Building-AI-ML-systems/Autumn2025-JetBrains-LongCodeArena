Unified Renderable Interface
============================

The Unified Renderable Interface provides a consistent way to render components in Django applications. It defines a set of base classes that implement a common interface for rendering templates with associated data and CSS classes.

AbstractRenderable
------------------

.. class:: AbstractRenderable

   An abstract class that implements an interface for rendering something.

   Everything is just helpers for the :meth:`.render` method, which renders a template with an object of this class as input.

   .. attribute:: template_name

      The default value for :meth:`.get_template_names`.

   .. method:: get_template_names()

      Get the template name(s) for :meth:`.render`.

      Defaults to :attr:`.template_name`.

      :raises NotImplementedError: If :attr:`.template_name` is not set.

   .. method:: get_context_data(request=None)

      Get context data for :meth:`.render`.

      Defaults to::

          {
              'me': self
          }

      :param request: The HTTP request object (optional)
      :return: A dictionary containing context data

   .. method:: render(request=None, extra_context_data=None)

      Render :meth:`.get_template_names` with the context returned by :meth:`.get_context_data`.

      :param request: If this is provided, we forward it to :meth:`.get_context_data`, and to ``render_to_string()`` (which is used to render the template)
      :param extra_context_data: Additional context data to include
      :return: Rendered template as a string

AbstractRenderableWithCss
-------------------------

.. class:: AbstractRenderableWithCss

   Extends :class:`.AbstractRenderable` with a unified API for setting CSS classes.

   .. method:: get_base_css_classes_list()

      Get base CSS classes as a list.

      :return: List of base CSS classes

   .. method:: get_extra_css_classes_list()

      Get extra CSS classes as a list.

      :return: List of extra CSS classes

   .. method:: get_css_classes_list()

      Override this to define css classes for the component.

      Must return a list of css classes.

      :return: List of CSS classes

   .. method:: get_test_css_class_suffixes_list()

      List of css class suffixes to include when running automatic tests.

      These suffixes are filtered through the :func:`~django_cradmin.templatetags.cradmin_tags.cradmin_test_css_class` template tag.

      :return: List of CSS class suffixes for testing

   .. attribute:: css_classes

      Get css classes.

      Joins :meth:`.get_css_classes_list` into a string.

      You should not override this, override :meth:`.get_css_classes_list` instead.

   .. method:: get_css_classes_string()

      Deprecated method for getting CSS classes as a string.

      .. warning::
         This method is deprecated. Use the :attr:`.css_classes` property instead.

AbstractBemRenderable
---------------------

.. class:: AbstractBemRenderable

   Base class for renderables that uses BEM (http://getbem.com/) for their CSS class naming.

   This is an alternative to :class:`.AbstractRenderableWithCss` that makes it much more natural to work with BEM.

   .. method:: __init__(bem_block=None, bem_element=None, bem_variant_list=None, extra_css_classes_list=None)

      :param bem_block: Get the BEM block. Can not be supplied if ``bem_element`` is supplied.
      :param bem_element: Get the BEM element. Can not be supplied if ``bem_block`` is supplied.
      :param bem_variant_list: Get a list of BEM variants for the block/element. You do not include the block/element, just the part after ``--``.
      :param extra_css_classes_list: List of extra css classes.

   .. method:: get_test_css_class_suffixes_list()

      List of css class suffixes to include when running automatic tests.

      These suffixes are filtered through the :func:`~django_cradmin.templatetags.cradmin_tags.cradmin_test_css_class` template tag.

      :return: List of CSS class suffixes for testing

   .. attribute:: bem_block_or_element

      Returns :meth:`.get_bem_block` falling back to :meth:`.get_bem_element`.

   .. method:: get_bem_block()

      Get the bem block string.

      :return: BEM block string

   .. method:: get_bem_element()

      Get the bem element string.

      :return: BEM element string

Helper Functions
----------------

.. function:: join_css_classes_list(css_classes_list)

   Join the provided list of css classes into a string.

   :param css_classes_list: List of CSS classes
   :return: String with CSS classes joined by double spaces