# Schema Generation

Tortoise ORM provides functionality to automatically generate database schemas based on your model definitions. This documentation explains how to generate and apply schemas to your database.

## Generating Schema SQL

To generate the SQL schema for your models, use the `get_schema_sql` function:

```python
from tortoise.utils import get_schema_sql

schema_sql = get_schema_sql(client, safe=True)
```

### Parameters

- `client`: The database client to generate schema SQL for
- `safe`: When set to `True`, creates tables only when they do not already exist (adds `IF NOT EXISTS` clauses)

### Example Usage

```python
from tortoise import Tortoise
from tortoise.utils import get_schema_sql

# Initialize Tortoise
await Tortoise.init(config)

# Get the database client
client = Tortoise.get_connection("default")

# Generate schema SQL
schema_sql = get_schema_sql(client, safe=True)
print(schema_sql)
```

## Generating and Applying Schema Directly

To generate and immediately apply the schema to your database, use the `generate_schema_for_client` function:

```python
from tortoise.utils import generate_schema_for_client

await generate_schema_for_client(client, safe=True)
```

### Parameters

- `client`: The database client to generate and apply schema for
- `safe`: When set to `True`, creates tables only when they do not already exist

### Example Usage

```python
from tortoise import Tortoise
from tortoise.utils import generate_schema_for_client

# Initialize Tortoise
await Tortoise.init(config)

# Get the database client
client = Tortoise.get_connection("default")

# Generate and apply schema
await generate_schema_for_client(client, safe=True)
```

## Safe Mode

When the `safe` parameter is set to `True`, the schema generation will include database-specific syntax to prevent errors when tables already exist. This is useful for development environments or when you want to ensure idempotent schema operations.

## Database Support

Schema generation is supported for all Tortoise ORM backends including:
- PostgreSQL
- MySQL
- SQLite

The generated SQL will be appropriately formatted for the specific database backend you are using.