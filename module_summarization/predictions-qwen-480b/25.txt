```
w_ipa
=====

The ``w_ipa`` command launches the WESTPA Interactive Python Analysis (WIPI) environment, which provides an interactive interface for analyzing WESTPA simulation data. This tool allows users to explore trajectories, weights, progress coordinates, and other data directly from the Python interpreter.

Usage
-----

.. code-block:: bash

    w_ipa [options]

Description
-----------

``w_ipa`` is a stateful analysis tool that loads WESTPA simulation data and makes it accessible through a Python session. By default, it uses the first analysis scheme defined in ``west.cfg`` and starts at iteration 1. Users can dynamically change the current iteration and analysis scheme during the session.

Key Features
------------

- **Interactive Data Access**: Explore simulation data including walkers, weights, progress coordinates, and bin assignments.
- **Trace Functionality**: Run backward traces on trajectory segments to analyze their history.
- **Dynamic Iteration/Scheme Switching**: Change the current iteration or analysis scheme on-the-fly.
- **Integration with Analysis Tools**: Built-in access to assignment, kinetic analysis, and reweighting tools.

Interactive Environment
-----------------------

Upon launching ``w_ipa``, users are presented with an interactive Python environment where the following properties and methods are available:

Properties
~~~~~~~~~~

- ``w.iteration`` or ``west.iteration``: Get or set the current iteration.
- ``w.list_schemes``: List available analysis schemes.
- ``w.scheme``: Get or set the current analysis scheme.
- ``w.states``: Display states defined in the current scheme.
- ``w.bin_labels``: Display bin labels from the current scheme.
- ``w.current``: Access data for the current iteration, including:
    - ``walkers``: Current walkers.
    - ``summary``: Iteration summary.
    - ``states``: State definitions.
    - ``seg_id``: Segment IDs.
    - ``weights``: Walker weights.
    - ``parents``: Parent information.
    - ``kinavg``: Kinetic averaging data.
    - ``pcoord``: Progress coordinates.
    - ``bins``: Bin assignments.
    - ``populations``: Bin populations.
    - ``auxdata``: Auxiliary data (if available).

Methods
~~~~~~~

- ``w.trace(seg_id)``: Run a trace on a given segment ID and return its history.

Options
-------

.. program:: w_ipa

.. option:: --analysis-only, -ao

    Run analysis and return to the terminal without entering interactive mode.

.. option:: --reanalyze, -ra

    Delete existing analysis files and re-run the analysis.

.. option:: --ignore-hash, -ih

    Ignore argument hash and do not regenerate files.

.. option:: --debug, -d

    Enable debug output for development purposes.

.. option:: --terminal, -t

    Plot output directly in the terminal (text-based plotting).

Examples
--------

Launch interactive analysis:

.. code-block:: bash

    w_ipa

Run analysis and return to terminal:

.. code-block:: bash

    w_ipa --analysis-only

Re-run analysis from scratch:

.. code-block:: bash

    w_ipa --reanalyze

Enable terminal-based plotting:

.. code-block:: bash

    w_ipa --terminal

Notes
-----

- All data access is relative to the currently selected iteration and analysis scheme.
- The tool automatically handles parallel execution where applicable.
- Hash-based caching is used to avoid redundant computations unless explicitly overridden.
```