SESANS Fitting Documentation
============================

Overview
--------

Spin-Echo SANS (SESANS) is a neutron scattering technique that measures the 
correlation function directly in real space. Fitting SESANS data involves 
comparing experimental data with theoretical models to extract structural 
parameters of the sample.

Model Parameters
----------------

The following parameters are commonly used in SESANS fitting:

.. code-block:: python

    # List of common SESANS parameters
    parameters = [
        'scale',      # Scaling factor
        'background', # Background level
        'radius',     # Particle radius
        'length',     # Cylinder length
        'thickness',  # Shell thickness
        'sld',        # Scattering length density
        'sld_solvent' # Solvent scattering length density
    ]

Fitting Procedure
-----------------

1. **Data Preparation**
   Prepare your SESANS data in the appropriate format with columns for 
   spin echo length (z) and polarization (P).

2. **Model Selection**
   Choose an appropriate scattering model based on your sample geometry.

3. **Parameter Initialization**
   Set initial values for model parameters based on prior knowledge or 
   estimates.

4. **Fitting Execution**
   Use a fitting algorithm (e.g., least squares minimization) to optimize 
   parameters.

Example Usage
-------------

.. code-block:: python

    import numpy as np
    from sasmodels import list_pars
    
    # List all available parameters
    # python -m sasmodels.list_pars -v
    
    # Typical SESANS fit setup
    def fit_sesans(data_file, model_name):
        # Load data
        z, P, dP = np.loadtxt(data_file, unpack=True)
        
        # Setup model
        model = load_model(model_name)
        
        # Define parameters
        parameters = model.make_parameter_table()
        parameters['scale'].value = 1.0
        parameters['background'].value = 0.0
        
        # Perform fit
        result = fit_model(z, P, dP, model, parameters)
        return result

Parameter Types
---------------

Parameters in SESANS fitting can be categorized as:

- **Volume Parameters**: Related to particle size (radius, length)
- **Orientation Parameters**: Related to particle orientation
- **SLD Parameters**: Scattering length density parameters
- **Scale/Background**: Global fitting parameters

Common Models
-------------

The following models are frequently used for SESANS fitting:

- Sphere
- Cylinder
- Ellipsoid
- Core-shell sphere
- Lamellar

Each model has specific parameters that control its behavior in the 
fitting process. Use the parameter listing tool to see which parameters 
are available for each model.