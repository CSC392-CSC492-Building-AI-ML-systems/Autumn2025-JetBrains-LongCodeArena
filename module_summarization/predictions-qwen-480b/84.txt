# Piccolo Apps

This module provides the core functionality for managing Piccolo applications within a project. It includes classes and utilities for configuring apps, discovering tables, and managing migration dependencies.

## AppConfig

```{eval-rst}
.. autoclass:: piccolo.apps.AppConfig
    :members:
```

Each Piccolo app requires an `AppConfig` instance, typically defined in a `piccolo_app.py` file. This configuration object contains metadata about the app and its components.

### Example Usage

```python
# piccolo_app.py
from piccolo.apps import AppConfig
from .tables import Task, Project

APP_CONFIG = AppConfig(
    app_name="task_tracker",
    migrations_folder_path="task_tracker/migrations",
    table_classes=[Task, Project],
    migration_dependencies=["piccolo.apps.user.piccolo_conf"],
    commands=[]
)
```

## AppRegistry

```{eval-rst}
.. autoclass:: piccolo.apps.AppRegistry
    :members:
```

The `AppRegistry` maintains a collection of all Piccolo apps in your project. It's typically instantiated in your `piccolo_conf.py` file.

### Example Usage

```python
# piccolo_conf.py
from piccolo.apps import AppRegistry

APP_REGISTRY = AppRegistry(
    apps=[
        "task_tracker.piccolo_app",
        "piccolo.apps.user.piccolo_app"
    ]
)
```

## Table Finder

```{eval-rst}
.. autofunction:: piccolo.apps.table_finder
```

The `table_finder` utility automatically discovers `Table` subclasses within specified modules. This is useful for automatically registering tables without explicitly importing each one.

### Example Usage

```python
# Using table_finder instead of manual registration
from piccolo.apps import table_finder

APP_CONFIG = AppConfig(
    app_name="blog",
    migrations_folder_path="blog/migrations",
    table_classes=table_finder(modules=["blog.tables"]),
    migration_dependencies=[],
    commands=[]
)
```

## MigrationModule

```{eval-rst}
.. autoclass:: piccolo.apps.MigrationModule
    :members:
```

Base class for migration modules. Each migration file should inherit from this class and implement the required attributes and methods.

## PiccoloAppModule

```{eval-rst}
.. autoclass:: piccolo.apps.PiccoloAppModule
    :members:
```

Base class for Piccolo app modules. This represents the structure of a typical `piccolo_app.py` file.

## Command

```{eval-rst}
.. autoclass:: piccolo.apps.Command
    :members:
```

Used to register custom CLI commands with your Piccolo app. These commands can then be executed using the Piccolo CLI.

### Example Usage

```python
# In piccolo_app.py
from piccolo.apps import Command

def create_demo_data():
    """Create sample data for testing."""
    pass

APP_CONFIG = AppConfig(
    app_name="blog",
    migrations_folder_path="blog/migrations",
    table_classes=[],
    migration_dependencies=[],
    commands=[
        Command(callable=create_demo_data, aliases=["demo"])
    ]
)
```

This would allow you to run `piccolo blog create_demo_data` or `piccolo blog demo` from the command line.