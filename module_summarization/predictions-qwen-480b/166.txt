FileNode - Simulating a Filesystem with PyTables
===============================================

The ``filenode`` module provides a file-like interface for using inside of PyTables database files. This allows you to store and manipulate file data directly within your HDF5 files as if they were regular files on a filesystem.

Creating and Opening File Nodes
-------------------------------

Use the ``new_node()`` function to create a brand new file node which can be read and written as any ordinary Python file. Use the ``open_node()`` function to open an existing (i.e. created with ``new_node()``) node for read-only or read-write access.

Read access is always available. Write access (enabled on new files and files opened with mode 'a+') only allows appending data to a file node.

Currently only binary I/O is supported.

Example usage:

.. code-block:: python

    import tables as tb
    from filenode import new_node, open_node

    # Create a new file node
    with tb.open_file('example.h5', 'w') as h5file:
        # Create a new file node
        fnode = new_node(h5file, where='/', name='myfile')
        
        # Write data to the file node
        fnode.write(b"Hello, World!")
        fnode.close()
        
        # Open the file node for reading
        fnode = open_node(h5file.root.myfile, 'r')
        content = fnode.read()
        fnode.close()

Supported Operations
--------------------

File nodes support standard file operations including:

- Reading and writing binary data
- Seeking to specific positions within the file
- Telling the current position
- Flushing write buffers
- Truncating files (only for growing)

The module is fully compliant with the interfaces defined in the :mod:`io` module since version 3.0.

Node Attributes
---------------

Each file node has the following system attributes:

- ``NODE_TYPE``: Set to 'file' to identify the node type
- ``NODE_TYPE_VERSION``: Version number of the file node implementation (supports versions 1 and 2)

Implementation Details
----------------------

The ``RawPyTablesIO`` class provides the base implementation for raw binary I/O on HDF5 files using PyTables. It inherits from ``io.RawIOBase`` and implements all necessary methods for file-like operations.

Key features of the implementation:

- Supports both version 1 and 2 of the file node format
- Provides proper error handling for closed files and invalid operations
- Implements efficient reading and writing of binary data
- Supports standard seek operations (beginning, current position, end of file)

Limitations
-----------

- Only binary I/O is currently supported
- Data cannot be rewritten or deleted - truncation only allows growing files
- Write access is limited to appending data when opened in 'a+' mode

For detailed instructions on using FileNode in your applications, see the user guide documentation.