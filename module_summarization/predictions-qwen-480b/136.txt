Image Extraction
================

Charge extraction algorithms are used to reduce the waveform data from each pixel into a single charge value and a corresponding peak time. These algorithms are essential in the processing of data from imaging atmospheric Cherenkov telescopes (IACTs), where the signal from each pixel is a waveform that needs to be integrated over a specific window to extract the total charge.

The extraction process typically involves identifying the peak of the signal, defining an integration window around this peak, and summing the signal within this window. Different algorithms may use different strategies to define the integration window and to compute the peak time.

Available Extractors
--------------------

The following charge extraction algorithms are available:

- **FullWaveformSum**: Sums the entire waveform for each pixel.
- **FixedWindowSum**: Integrates the waveform within a fixed window defined by a start position and width.
- **GlobalPeakWindowSum**: Uses the global maximum of the waveform to define the integration window.
- **LocalPeakWindowSum**: Uses a local peak-finding algorithm to define the integration window.
- **SlidingWindowMaxSum**: Slides a window across the waveform to find the position with the maximum sum.
- **NeighborPeakWindowSum**: Uses the peak position from neighboring pixels to define the integration window.
- **BaselineSubtractedNeighborPeakWindowSum**: Similar to NeighborPeakWindowSum but with baseline subtraction.
- **TwoPassWindowSum**: Performs a two-pass extraction, first to find the peak and then to integrate.

Additionally, the following utility functions are provided for custom extraction implementations:

- **extract_around_peak**: Extracts charge and peak time around a specified peak index.
- **extract_sliding_window**: Finds the window with the maximum sum and extracts charge and peak time.
- **neighbor_average_maximum**: Computes the average of the maximum values from neighboring pixels.
- **subtract_baseline**: Subtracts the baseline from the waveform.
- **integration_correction**: Applies integration correction based on the integration window.

Each extractor is implemented as a subclass of the `ImageExtractor` base class, which defines the common interface for all extraction algorithms. The extractors are designed to work with the `ctapipe` framework and are compatible with the `DL1CameraContainer` data structure.

The choice of extractor can significantly impact the performance of the reconstruction algorithms, and the optimal choice may depend on the specific characteristics of the data and the scientific goals of the analysis.