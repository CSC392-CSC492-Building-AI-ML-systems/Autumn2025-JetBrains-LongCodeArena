Library Conventions
===================

The Python Control Systems Library (python-control) follows a set of conventions for API design, naming, and functionality to ensure consistency and usability across the library. These conventions are intended to make the library intuitive for users familiar with control theory and to maintain compatibility with related tools such as MATLAB's Control System Toolbox where appropriate.

Naming Conventions
------------------

- Function and method names are lowercase, with words separated by underscores (snake_case).
- Class names use the CapWords convention (PascalCase).
- Module names are short and lowercase, typically representing the primary functionality of the module (e.g., `statesp`, `xferfcn`, `dtime`).
- Constants are defined in uppercase with underscores separating words.

Function and Method Signatures
------------------------------

- Functions that operate on systems typically accept system objects (such as `StateSpace` or `TransferFunction`) as their first argument.
- Common operations such as conversion between continuous and discrete time (`c2d`, `sample_system`) are provided with consistent interfaces.
- Optional parameters are specified using keyword arguments with sensible defaults.
- Boolean flags and options are named clearly to indicate their effect (e.g., `use_prewarping` instead of just `prewarp`).

Return Values
-------------

- Functions return objects of appropriate types, often system objects that encapsulate the result of an operation.
- When multiple values are returned, they are typically returned as a tuple, with clear documentation of the order and meaning of each element.
- For functions that compute time responses, results are returned as `TimeResponseData` objects, which provide both structured access to the data and plotting capabilities.

System Representation
---------------------

- Linear time-invariant (LTI) systems are represented using `StateSpace` and `TransferFunction` classes.
- Systems are assumed to be continuous-time by default, unless explicitly converted to discrete-time using functions such as `c2d` or `sample_system`.
- Discrete-time systems include a sampling time (`Ts`) attribute to distinguish them from continuous-time systems.

Discrete-Time Systems
---------------------

- Discrete-time systems are created using the `sample_system` or `c2d` functions, which convert continuous-time systems to discrete-time using various methods such as zero-order hold ('zoh'), bilinear ('bilinear'), or generalized bilinear transformation ('gbt').
- The sampling period `Ts` is a required argument for conversion functions and is stored as an attribute of the resulting discrete-time system.
- Optional parameters such as `prewarp_frequency` for bilinear transforms or `alpha` for generalized transforms are supported to provide additional control over the conversion process.

Optimization-Based Control
--------------------------

- The `optimal` module provides support for solving finite-horizon optimal control problems for nonlinear systems with constraints.
- Optimal control problems are specified using the `OptimalControlProblem` class, which encapsulates the system dynamics, cost function, and constraints.
- Constraints are specified using SciPy's optimization framework, with support for both linear and nonlinear constraints at each time point.
- The library integrates with SciPy's optimization and initial value problem solvers, allowing users to customize the solution process through configuration parameters.

Documentation and Examples
--------------------------

- All public functions and classes include docstrings that describe their purpose, parameters, return values, and usage.
- Examples are provided in the docstrings to illustrate common use cases and to help users get started quickly.
- The documentation is written in reStructuredText format and is intended to be processed using Sphinx to generate HTML or other formats.

Error Handling
--------------

- Errors are raised using standard Python exceptions such as `ValueError` or `TypeError` with informative messages.
- Custom exceptions defined in the library (e.g., `ControlNotImplemented`) are used for specific error conditions that are unique to control systems operations.

Configuration
-------------

- Library behavior can be customized using a configuration system that allows users to set default values for parameters such as optimization methods or solver options.
- Configuration parameters are defined with sensible defaults and can be overridden by the user at runtime.