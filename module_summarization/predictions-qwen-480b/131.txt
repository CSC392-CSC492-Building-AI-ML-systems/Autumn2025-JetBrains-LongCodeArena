Verification Scheme for FITS Data
=================================

The verification scheme in `astropy.io.fits` provides a flexible mechanism to check the integrity and standards compliance of FITS data. This system allows users to define how verification issues should be handled, whether by ignoring them, issuing warnings, raising exceptions, or attempting to automatically fix problems.

Verification Options
--------------------

The following verification options are supported:

- ``"ignore"``: Ignore all verification issues.
- ``"warn"``: Issue warnings for verification issues.
- ``"exception"``: Raise exceptions for verification issues.
- ``"fix"``: Attempt to fix issues and report the fixes.
- ``"silentfix"``: Attempt to fix issues silently without reporting.
- Combinations of ``"fix"`` or ``"silentfix"`` with ``"+ignore"``, ``"+warn"``, or ``"+exception"`` (e.g., ``"fix+warn"``).

When using combined options like ``"fix+warn"``, the system will attempt to fix any issues that can be automatically corrected and then issue warnings for any remaining problems. Similarly, ``"silentfix+exception"`` will silently fix what it can and raise exceptions for unfixable issues.

Implementation Details
----------------------

The verification functionality is implemented through several key components:

1. **VerifyError**: Exception class for verification errors.
2. **VerifyWarning**: Warning class for verification issues.
3. **_Verify**: Base class containing shared verification methods.
4. **_ErrList**: Class for managing lists of verification errors with nested structure support.

The ``_Verify`` class provides the core verification logic through its ``verify`` method, which processes the selected verification option and handles error reporting and fixing accordingly. The ``_ErrList`` class manages hierarchical error messages and provides formatted output with proper indentation.

Error Handling
--------------

The verification system distinguishes between fixable and unfixable errors. When a fixable error is encountered and a fix option is specified, the system will attempt to automatically correct the issue. Unfixable errors are handled according to the reporting component of the selected option (warn or exception).

The system uses zero-based indexing for reporting error locations, which is important to note when correlating verification messages with FITS data structures.

Usage
-----

To verify FITS data, call the ``verify`` method on any FITS object with one of the supported options:

.. code-block:: python

    hdul = fits.open('file.fits')
    hdul.verify('fix+warn')

This approach ensures that FITS data conforms to standards while providing flexibility in how compliance issues are handled.