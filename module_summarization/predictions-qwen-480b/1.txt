Using Custom Attributes
=======================

Custom attributes in ftrack allow you to extend the default schema with additional metadata fields tailored to your specific pipeline needs. These attributes can be added to various entity types such as Tasks, Assets, Projects, and more.

Creating Custom Attributes
--------------------------

Custom attributes are defined through the ftrack web interface or via the API. When creating a custom attribute, you specify:

- **Name**: The internal name used to reference the attribute
- **Label**: A user-friendly display name
- **Entity type**: Which ftrack entities the attribute applies to
- **Data type**: The type of data the attribute will store (string, number, boolean, etc.)
- **Configuration**: Additional settings like default values, visibility, and editability

Accessing Custom Attributes
---------------------------

Once defined, custom attributes can be accessed like regular entity attributes through the ftrack API:

.. code-block:: python

    # Access a custom attribute on a task
    task = session.query('Task where name is "Animation"').first()
    custom_value = task['custom_attribute_name']
    
    # Set a custom attribute value
    task['custom_attribute_name'] = 'new_value'
    session.commit()

Working with Different Data Types
---------------------------------

Custom attributes support various data types, each with specific handling:

**Text and String Types**
    Handle standard text input and display as text fields in the interface.

**Numeric Types**
    Support integer and float values with optional range constraints.

**Boolean Types**
    Represent true/false values, displaying as checkboxes.

**Date and Date/Time**
    Store temporal information with appropriate calendar widgets.

**Enumeration Types**
    Provide dropdown selections from predefined values.

**Dynamic Enumerations**
    Allow for programmatically populated dropdown options.

Best Practices
--------------

When working with custom attributes:

- Use descriptive names that clearly indicate the attribute's purpose
- Consider the entity types carefully to avoid unnecessary attribute proliferation
- Set appropriate default values to streamline data entry
- Use validation rules to maintain data integrity
- Group related attributes logically in the interface
- Document custom attributes for team members

Performance Considerations
--------------------------

Keep in mind that custom attributes:

- May impact query performance when used in filters
- Should be indexed appropriately for frequently queried attributes
- Benefit from selective loading when dealing with large datasets
- Can increase memory usage when loading many entities with numerous custom attributes

Error Handling
--------------

Always handle potential errors when working with custom attributes:

.. code-block:: python

    try:
        value = entity['custom_attribute_name']
    except KeyError:
        # Handle missing custom attribute
        value = None

This approach ensures your code gracefully handles cases where custom attributes may not be available or properly configured.