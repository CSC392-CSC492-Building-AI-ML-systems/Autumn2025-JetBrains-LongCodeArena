PyTables File Format
=====================

Overview
--------

PyTables uses the HDF5 (Hierarchical Data Format version 5) as its underlying storage format, adding specialized structures and indexing capabilities for efficient handling of large datasets.

Index Structure
---------------

Indexes in PyTables are implemented as specialized groups within the HDF5 hierarchy that maintain optimized access patterns for table columns. The index implementation includes several key components:

### Index Components

- **IndexArray**: Stores the actual index values and their corresponding row references
- **CacheArray**: Maintains cached index information for performance
- **LastRowArray**: Tracks the last row information for index maintenance

### Index Types

PyTables supports multiple index kinds with different storage characteristics:

- **full**: Complete 64-bit row position tracking
- **medium**: 32-bit chunk-based tracking
- **light**: 16-bit chunk-based tracking  
- **ultralight**: 8-bit chunk-based tracking

### Storage Properties

Indexes use compressed storage with default filters:
- Compression level: 1
- Compression library: zlib
- Shuffle filter: enabled
- Fletcher32 checksum: disabled

### Versioning

Current index version: 2.1 (PyTables Pro 2.1 and later)

### Index Metadata

Index groups contain special attributes:
- ``DIRTY`` flag: indicates if index is out of sync with column data
- ``TITLE``: descriptive title for the index
- ``CLASS``: set to 'INDEX' for identification

### Performance Features

- Optimized search implementations for numeric types (int8, int16, int32, int64, uint8, uint16, uint32, uint64, float32, float64)
- Automatic index updating after table operations (configurable)
- LRU caching for index objects
- Temporary file management for index operations

### File Structure

Indexes are stored in the HDF5 hierarchy with pathnames following the pattern:
``/_i_[tablename]/[columnname]/...`` where the actual table column path can be derived by removing the ``_i_`` prefix.

The index structure uses a hierarchical blocking system with:
- Superblocks containing multiple blocks
- Blocks containing multiple slices  
- Slices containing multiple chunks

This multi-level structure enables efficient range queries and optimized memory usage during index operations.