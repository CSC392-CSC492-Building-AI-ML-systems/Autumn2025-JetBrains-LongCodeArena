Compatibility Policy
===================

The NumPy random module is committed to maintaining a stable and reliable API while allowing for improvements and performance enhancements. This document outlines the compatibility guarantees and policies for the random module.

C API and Extensions
--------------------
The random module provides several components that may be used by extension modules:

1. **npyrandom static library**: Contains core distribution functions and can be linked against by extensions
   - Location: numpy/random/lib/
   - Includes: logfactorial.c, distributions.c, random_mvhg_count.c, random_mvhg_marginals.c, random_hypergeometric.c

2. **Cython interfaces**: Multiple .pxd files are provided for Cython extensions:
   - __init__.pxd, _common.pxd, bit_generator.pxd, c_distributions.pxd
   - _bounded_integers.pxd (generated from template)

3. **Binary compatibility**: The module uses `-DNPY_NO_DEPRECATED_API=0` to maintain compatibility with the legacy NumPy C API that Cython extensions depend on.

Python API Compatibility
------------------------
The random module maintains backward compatibility for the public Python API while allowing internal implementation changes:

- All public functions and classes maintain their signatures and behavior across minor releases
- Deprecation warnings are provided for at least two release cycles before removing functionality
- The legacy RandomState interface is maintained for backward compatibility (enabled via `-DNP_RANDOM_LEGACY=1`)

Testing and Verification
------------------------
Compatibility is ensured through extensive testing:

- Test suites cover legacy random state behavior
- Regression tests prevent reintroduction of known issues
- Cross-platform testing ensures consistency across systems
- Test data sets for various bit generators verify reproducible output

Extension Support
-----------------
The module supports multiple extension mechanisms:

- **CFFI**: Example extensions provided in numpy/random/_examples/cffi/
- **Cython**: Example extensions and build configuration in numpy/random/_examples/cython/
- **Numba**: JIT-compatible examples in numpy/random/_examples/numba/

License
-------
This software is dual-licensed under the University of Illinois/NCSA Open Source License.