Using Timers
=============

The ftrack API provides a timer utility to help with measuring and tracking execution times of code blocks. This is useful for performance monitoring and debugging.

Basic Usage
-----------

To use the timer, import and instantiate the `Timer` class:

.. code-block:: python

    from ftrack_api import Timer

    timer = Timer()

Starting and Stopping
---------------------

Start the timer with the `start()` method:

.. code-block:: python

    timer.start()

Stop the timer with the `stop()` method, which returns the elapsed time in seconds:

.. code-block:: python

    elapsed = timer.stop()
    print(f"Elapsed time: {elapsed:.4f} seconds")

Context Manager
---------------

The timer can be used as a context manager for convenience:

.. code-block:: python

    with Timer() as timer:
        # Code to time
        time.sleep(1)

    print(f"Elapsed: {timer.elapsed:.4f} seconds")

Multiple Intervals
------------------

You can record multiple intervals with the same timer instance:

.. code-block:: python

    timer.start()
    # First operation
    timer.record_interval("operation1")
    
    # Second operation  
    timer.record_interval("operation2")
    
    timer.stop()

Access recorded intervals through the `intervals` attribute.

Reset
-----

Reset the timer to its initial state with `reset()`:

.. code-block:: python

    timer.reset()

Attributes
----------

- `elapsed`: Total elapsed time in seconds (read-only)
- `running`: Boolean indicating if timer is currently running (read-only)
- `intervals`: Dictionary of recorded interval times

Example
-------

.. code-block:: python

    from ftrack_api import Timer
    import time

    timer = Timer()
    timer.start()
    
    time.sleep(0.5)
    timer.record_interval("first_sleep")
    
    time.sleep(0.3)
    timer.record_interval("second_sleep")
    
    total = timer.stop()
    
    print(f"Total: {total:.4f}s")
    print(f"First: {timer.intervals['first_sleep']:.4f}s")
    print(f"Second: {timer.intervals['second_sleep']:.4f}s")