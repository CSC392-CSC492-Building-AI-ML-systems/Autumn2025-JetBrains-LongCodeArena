.. _astropy:image-data:

Data Component in an Image HDU
==============================

The data component of an image HDU (Header/Data Unit) in Astropy is responsible for storing the primary image array. It is typically represented as a N-dimensional NumPy array, where the dimensions correspond to the axes of the image. The data component supports standard array operations and can be manipulated using NumPy functions.

Verification
------------
The data component includes built-in verification mechanisms to ensure data integrity and compliance with the FITS standard. The verification process can be customized using several options:

- ``ignore``: Skip verification entirely.
- ``warn``: Issue warnings for non-compliant elements.
- ``exception``: Raise exceptions for errors.
- ``fix``: Automatically correct fixable issues and report others.
- ``silentfix``: Correct issues silently without reporting.
- Combined options like ``fix+warn``, ``fix+exception``, ``silentfix+ignore``, etc., allow flexible handling of errors and fixes.

The verification is implemented through the ``_Verify`` class and uses the ``_ErrList`` structure to manage and report errors hierarchically, providing detailed context for issues found during the verification process.

Indexing
--------
Note that Astropy uses zero-based indexing for all array operations, consistent with Python and NumPy conventions.

Example
-------
To access and verify the data in an image HDU:

.. code-block:: python

   from astropy.io import fits
   hdul = fits.open('example.fits')
   data = hdul[0].data  # Access the data array
   data.verify(option='fix+warn')  # Verify and fix issues, with warnings

This ensures the data conforms to expected standards and handles any discrepancies appropriately.