```rst
Conditions in PyTables
======================

PyTables provides a powerful condition syntax for querying and filtering data in tables. The condition syntax allows you to specify complex filtering criteria using Python-like expressions that operate on table columns.

Basic Syntax
------------

Conditions are specified as strings that can reference table columns and use comparison operators, logical operators, and various functions. The basic syntax follows:

.. code-block:: python

    condition = "colname > 10 & colname2 == 'text'"
    condition = "(x > 5) | (y < 3)"
    condition = "~(boolean_col == True)"

Supported Operators
-------------------

Comparison Operators:
- ``==`` : Equal to
- ``!=`` : Not equal to
- ``<``  : Less than
- ``<=`` : Less than or equal to
- ``>``  : Greater than
- ``>=`` : Greater than or equal to

Logical Operators:
- ``&``  : Logical AND
- ``|``  : Logical OR
- ``~``  : Logical NOT

Note: Parentheses are important for specifying operator precedence in complex expressions.

NaN-aware Comparisons
---------------------

PyTables includes special NaN-aware comparison functions that handle NaN values properly in conditions:

- ``nan_aware_gt()`` : Greater than (NaN-aware)
- ``nan_aware_ge()`` : Greater than or equal to (NaN-aware)
- ``nan_aware_lt()`` : Less than (NaN-aware)
- ``nan_aware_le()`` : Less than or equal to (NaN-aware)

These functions are used internally when processing conditions involving floating-point columns that may contain NaN values.

Index Optimization
------------------

When conditions involve indexed columns, PyTables can optimize the query performance by using the index structures. The Index class provides:

- Fast lookup operations using binary search algorithms (``bisect_left``, ``bisect_right``)
- Support for various index kinds: 'full', 'medium', 'light', and 'ultralight'
- Automatic index maintenance (when ``auto_index`` is enabled)

The index optimization is particularly effective for range queries and equality conditions on indexed columns.

Example Conditions
------------------

.. code-block:: python

    # Simple comparisons
    "age > 30"
    "salary <= 50000"
    "name == 'John'"
    
    # Compound conditions
    "(age > 30) & (salary < 50000)"
    "(department == 'Sales') | (department == 'Marketing')"
    
    # Using NOT operator
    "~(status == 'inactive')"
    
    # Multiple conditions
    "(age >= 25) & (age <= 35) & (city == 'New York')"

Performance Considerations
--------------------------

- Use indexed columns in conditions for better performance
- Complex conditions with multiple OR operations may be slower
- The query optimizer attempts to use indexes where available
- Conditions involving non-indexed columns will require full table scans

Note: Index dirtiness (when indexes are out of sync with data) can affect query performance and accuracy. The system maintains a ``dirty`` flag to track index synchronization status.

Supported Data Types
-------------------

Conditions work with all PyTables supported data types including:
- Integer types (int8, int16, int32, int64, uint8, uint16, uint32, uint64)
- Floating-point types (float32, float64)
- String types
- Boolean types

The condition syntax is designed to be intuitive while providing powerful filtering capabilities for efficient data retrieval from PyTables datasets.
```