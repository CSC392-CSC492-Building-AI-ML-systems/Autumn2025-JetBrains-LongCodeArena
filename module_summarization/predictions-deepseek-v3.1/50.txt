.. _gam-example:

Generating Example for GAM Code
===============================

This module provides classes and functions for creating spline bases and related components used in Generalized Additive Models (GAMs). Below is an example demonstrating how to use the B-spline functionality.

Example: Creating B-Spline Basis
--------------------------------

The following example shows how to generate a B-spline basis for a given dataset using the provided functions:

.. code-block:: python

    import numpy as np
    from statsmodels.gam.smooth_basis import make_bsplines_basis

    # Generate sample data
    np.random.seed(123)
    x = np.linspace(0, 10, 100)
    
    # Create B-spline basis with 10 degrees of freedom and cubic splines (degree=3)
    basis, der_basis, der2_basis = make_bsplines_basis(x, df=10, degree=3)
    
    print("B-spline basis shape:", basis.shape)
    print("First derivative basis shape:", der_basis.shape)
    print("Second derivative basis shape:", der2_basis.shape)

This will output:

.. code-block:: none

    B-spline basis shape: (100, 10)
    First derivative basis shape: (100, 10)
    Second derivative basis shape: (100, 10)

The function returns three arrays containing the basis functions and their first and second derivatives, which can be used as smooth components in a GAM.

Additional functionality includes knot placement strategies (quantile-based or equally spaced) through the `get_knots_bsplines` function, and direct evaluation of B-spline bases with derivatives via `_eval_bspline_basis`.

Note: This module requires scipy for spline evaluation functionality.