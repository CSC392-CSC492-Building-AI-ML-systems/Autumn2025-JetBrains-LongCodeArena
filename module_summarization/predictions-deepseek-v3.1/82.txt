baseuser
=======

.. automodule:: baseuser
   :members:
   :undoc-members:
   :show-inheritance:

BaseUser
--------

.. autoclass:: BaseUser
   :members:
   :special-members: __init__

The ``BaseUser`` class provides a basic user model with authentication support, including password hashing, validation, and login functionality.

Class Attributes
~~~~~~~~~~~~~~~~

- ``id``: Serial primary key column
- ``username``: Varchar column with maximum length of 100 characters, must be unique
- ``password``: Secret column for storing hashed passwords
- ``first_name``: Optional Varchar column for user's first name
- ``last_name``: Optional Varchar column for user's last name
- ``email``: Varchar column with maximum length of 255 characters, must be unique
- ``active``: Boolean column indicating if the user account is active (default: False)
- ``admin``: Boolean column indicating admin privileges for Piccolo admin GUI access
- ``superuser``: Boolean column indicating superuser privileges for managing other users' passwords
- ``last_login``: Timestamp column recording the user's last login time

Password Configuration
~~~~~~~~~~~~~~~~~~~~~~

- ``_min_password_length``: Minimum allowed password length (default: 6)
- ``_max_password_length``: Maximum allowed password length (default: 128)
- ``_pbkdf2_iteration_count``: Number of iterations for PBKDF2 hashing (default: 600,000)

Methods
~~~~~~~

Password Management
^^^^^^^^^^^^^^^^^^^

.. automethod:: BaseUser.hash_password
   :noindex:

.. automethod:: BaseUser.update_password
   :noindex:

.. automethod:: BaseUser.update_password_sync
   :noindex:

Authentication
^^^^^^^^^^^^^^

.. automethod:: BaseUser.login
   :noindex:

.. automethod:: BaseUser.login_sync
   :noindex:

Utility Methods
^^^^^^^^^^^^^^^

.. automethod:: BaseUser.get_salt
   :noindex:

.. automethod:: BaseUser.get_readable
   :noindex:

.. automethod:: BaseUser._validate_password
   :noindex:

.. automethod:: BaseUser.split_stored_password
   :noindex:

The class uses PBKDF2 with SHA256 for secure password hashing and includes both async and synchronous versions of key methods for flexibility in different application contexts.