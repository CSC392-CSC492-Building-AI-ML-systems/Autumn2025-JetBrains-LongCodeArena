.. _miner:

Miner
=====

The Miner class provides an interface to interact with the Ethereum mining functionality through JSON-RPC calls.

Class
-----

.. py:class:: Miner(web3)

   Initialize a new Miner instance.

   :param web3: A Web3 instance for making JSON-RPC requests
   :type web3: Web3

Properties
----------

.. py:attribute:: hashrate

   :returns: The number of hashes per second that the node is mining with
   :rtype: decimal.Decimal
   :decorator: @apply_formatters_to_return(to_decimal)

   Returns the current hash rate of the miner.

Methods
-------

.. py:method:: makeDAG(number)

   Generate the DAG for the given block number.

   :param number: The block number for which to generate the DAG
   :type number: int
   :returns: Returns ``True`` if successful
   :rtype: bool

.. py:method:: setExtra(extra)

   Set the extra data a miner can include when mining blocks.

   :param extra: The extra data string (32 bytes max)
   :type extra: str
   :returns: Returns ``True`` if successful
   :rtype: bool

.. py:method:: setEtherBase(etherbase)

   Set the etherbase address where mining rewards are sent.

   :param etherbase: The Ethereum address to receive mining rewards
   :type etherbase: str
   :returns: Returns ``True`` if successful
   :rtype: bool

.. py:method:: setGasPrice(gas_price)

   Set the minimum accepted gas price when mining transactions.

   :param gas_price: The minimum gas price in wei
   :type gas_price: int
   :returns: Returns ``True`` if successful
   :rtype: bool

.. py:method:: start(num_threads)

   Start the CPU mining process with the specified number of threads.

   :param num_threads: Number of mining threads to start
   :type num_threads: int
   :returns: Returns ``True`` if successful
   :rtype: bool

.. py:method:: stop()

   Stop the CPU mining operation.

   :returns: Returns ``True`` if successful
   :rtype: bool

.. py:method:: startAutoDAG()

   Enable automatic DAG generation.

   :returns: Returns ``True`` if successful
   :rtype: bool

.. py:method:: stopAutoDAG()

   Disable automatic DAG generation.

   :returns: Returns ``True`` if successful
   :rtype: bool