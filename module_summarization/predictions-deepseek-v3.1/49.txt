==========================
Cumulative Incidence Function
==========================

.. currentmodule:: duration

The `duration` module provides functionality for estimating and analyzing cumulative incidence functions (CIF) in the presence of competing risks. It supports right-censored data and includes methods for both unweighted and frequency-weighted estimation.

Functions
---------

.. autofunction:: _calc_survfunc_right

.. autofunction:: _calc_incidence_right

.. autofunction:: _checkargs

Classes
-------

.. autoclass:: CumIncidenceRight
   :members:
   :inherited-members:

Detailed Description
--------------------

The module implements nonparametric estimation of cumulative incidence functions using the Aalen-Johansen estimator. Key features include:

- Support for right-censored data with competing risks
- Calculation of standard errors using Greenwood's formula (unweighted) or Tsiatis' formula (weighted)
- Optional frequency weights for survey or aggregated data
- Input validation through the `_checkargs` function

The cumulative incidence function for cause j is defined as:

I(t, j) = P(T ≤ t and J = j)

where T is the failure time and J indicates the event type.

Parameters
----------

Common parameters used across functions:

- **time**: Array of event or censoring times
- **status**: Event indicators (0 = censored, ≥1 = event type)
- **weights**: Optional frequency weights
- **entry**: Optional left truncation times
- **compress**: Whether to compress output to event times only
- **retall**: Whether to return all intermediate calculations

Note
----

Standard errors are not provided when frequency weights are used. The module assumes independent censoring unless covariates are provided through the `exog` parameter to account for dependent censoring.

See Also
--------

- Aalen, O. O. (1978). Nonparametric inference for a family of counting processes.
- Kalbfleisch, J. D. and Prentice, R. L. (2002). The statistical analysis of failure time data.