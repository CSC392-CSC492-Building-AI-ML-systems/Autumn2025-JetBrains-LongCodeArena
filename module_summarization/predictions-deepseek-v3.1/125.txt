FITS Headers
=============

.. currentmodule:: astropy.io.fits

The FITS header structure is a key component of FITS files, containing metadata about the associated data. This module provides classes and utilities for working with FITS headers, including verification mechanisms and change notification systems.

Verification System
-------------------

The verification system ensures the correctness and integrity of FITS headers through several classes and options.

Exception and Warning Classes
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. autoexception:: VerifyError
   :members:

.. autoexception:: VerifyWarning
   :members:

Verification Options
~~~~~~~~~~~~~~~~~~~~

The following verification options are available:

- ``ignore``: Skip verification entirely
- ``warn``: Issue warnings for problems
- ``exception``: Raise exceptions for problems
- ``fix``: Attempt to fix problems and report actions
- ``silentfix``: Fix problems without reporting
- Combined options: ``fix+ignore``, ``fix+warn``, ``fix+exception``, ``silentfix+ignore``, ``silentfix+warn``, ``silentfix+exception``

Core Verification Classes
~~~~~~~~~~~~~~~~~~~~~~~~~

.. autoclass:: _Verify
   :members: run_option, verify
   :private-members:

.. autoclass:: _ErrList
   :members: __str__, iter_lines
   :private-members:

Notifier System
---------------

The notifier system provides a mechanism for objects to register listeners and notify them of changes.

.. autoclass:: NotifierMixin
   :members: _add_listener, _notify
   :private-members:

The NotifierMixin allows objects to:

- Register listeners using weak references
- Notify all registered listeners of specific changes
- Automatically handle listeners that go out of scope

Example usage:

.. code-block:: python

   class Widget(NotifierMixin):
       state = 1
       def __init__(self, name):
           self.name = name
       def update_state(self):
           self.state += 1
           self._notify('state_change', self.state)

When the state changes, all registered listeners will have their ``_update_state_change`` method called with the new state value.

Utilities
---------

The module also provides various utility functions and constants for working with FITS headers, including:

- Path-like type checking
- Integer type validation
- Comparison functions
- Various context managers and decorators for file handling and operations

Note: All indexing in astropy.io.fits uses zero-based indexing.