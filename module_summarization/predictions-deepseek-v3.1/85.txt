===================
Piccolo Projects
===================

This module provides core classes and utilities for managing Piccolo applications, including app configuration, table discovery, and migration dependencies.

Modules and Classes
-------------------

MigrationModule
~~~~~~~~~~~~~~~
A module type for migration files with the following attributes:

- ``ID``: A unique identifier for the migration.
- ``VERSION``: The version string associated with the migration.
- ``DESCRIPTION``: A brief description of the migration changes.

It includes a static method ``forwards`` for implementing the migration logic.

PiccoloAppModule
~~~~~~~~~~~~~~~~
A module type for Piccolo app configuration modules, containing an ``APP_CONFIG`` attribute of type ``AppConfig``.

Functions
---------

table_finder
~~~~~~~~~~~~
Finds and imports Table subclasses from specified modules, with optional filtering by tags.

**Parameters**:
- ``modules``: A sequence of module paths (e.g., ``['blog.tables']``) to search for Table subclasses.
- ``include_tags``: Tags to include; if ``['__all__']`` (default), all tables are included.
- ``exclude_tags``: Tags to exclude; overrides ``include_tags``.
- ``exclude_imported``: If ``True``, excludes tables imported from other modules.

**Returns**: A list of Table subclasses matching the criteria.

Classes
-------

Command
~~~~~~~
A dataclass representing a CLI command.

**Attributes**:
- ``callable``: The function or coroutine to execute.
- ``aliases``: Alternative names for the command.

AppConfig
~~~~~~~~~
Stores configuration for a Piccolo application.

**Parameters**:
- ``app_name``: The application name (e.g., 'article').
- ``migrations_folder_path``: Path to the folder containing migration files.
- ``table_classes``: List of Table subclasses registered with the app.
- ``migration_dependencies``: List of app modules that this app's migrations depend on.
- ``commands``: List of commands (callables or Command instances) for the Piccolo CLI.

**Methods**:
- ``register_table``: Registers a Table subclass with the app.
- ``migration_dependency_app_configs``: Returns AppConfig instances for migration dependencies.
- ``get_table_with_name``: Retrieves a Table subclass by name from the app.

AppRegistry
~~~~~~~~~~~
Manages all Piccolo apps in a project.

**Parameters**:
- ``apps``: A list of paths to Piccolo app modules (e.g., ``['blog.piccolo_app']``).

**Attributes**:
- ``apps``: The list of app module paths.
- ``app_configs``: A dictionary mapping app names to their AppConfig instances (incomplete in provided code).

Usage Notes
-----------
- Use ``table_finder`` to automatically discover Table classes instead of manual registration.
- Define migration dependencies in ``AppConfig`` to ensure proper migration ordering.
- Commands registered in ``AppConfig`` become available in the Piccolo CLI under the app's namespace.