.. _diophantine:

Diophantine Equations
====================

This module provides functionality for solving Diophantine equations, which are polynomial equations with integer solutions. The main function is :func:`diophantine`, which simplifies the solution procedure by factoring the equation and solving each factor independently.

Main Function
-------------

.. function:: diophantine(eq, param=symbols('t', integer=True), syms=None)

   Simplify the solution procedure of a Diophantine equation ``eq`` by converting it into a product of terms that should equal zero. For example, an equation like `(x + y)(x - y) = 0` is broken into `x + y = 0` and `x - y = 0`, which are solved independently and then combined.

   The output is a set of tuples, where each tuple represents a solution to the equation. The elements of the tuple correspond to the solutions for each variable, arranged in alphabetic order (by default) or according to the order specified by ``syms``.

   :param eq: The equation to solve, either as a :class:`~diofant.core.relational.Eq` instance or an expression.
   :param param: The parameter symbol to be used in the solution (default is `t`).
   :param syms: A sequence of symbols specifying the desired order of variables in the output tuples.
   :return: A set of tuples containing the solutions.
   :raises TypeError: If the equation is not a polynomial with rational coefficients.

   **Examples**::

      >>> diophantine(x**2 - y**2)
      {(t_0, -t_0), (t_0, t_0)}

      >>> diophantine(x*(2*x + 3*y - z))
      {(0, n1, n2), (t_0, t_1, 2*t_0 + 3*t_1)}

      >>> diophantine(x**2 + 3*x*y + 4*x)
      {(0, n1), (3*t_0 - 4, -t_0)}

   .. seealso:: :func:`diofant.solvers.diophantine.diop_solve`

Internal Utilities
------------------

The module includes several internal helper functions:

- :func:`_is_int`: Checks if a value can be converted to an integer.
- :func:`_sorted_tuple`: Returns a sorted tuple of the given values.
- :func:`_remove_gcd`: Removes the greatest common divisor from a sequence of integers.
- :func:`_rational_pq`: Returns a normalized rational number as a tuple `(numerator, denominator)`.
- :func:`_nint_or_floor`: Returns the nearest integer to `p/q`, with ties rounding down.
- :func:`_odd` and :func:`_even`: Check for odd or even integers.

Supported Equation Types
------------------------

The following types of Diophantine equations are recognized (though not all may be fully handled):

- ``binary_quadratic``
- ``cubic_thue``
- ``general_pythagorean``
- ``general_sum_of_even_powers``
- ``general_sum_of_squares``
- ``homogeneous_general_quadratic``
- ``homogeneous_ternary_quadratic``
- ``homogeneous_ternary_quadratic_normal``
- ``inhomogeneous_general_quadratic``
- ``inhomogeneous_ternary_quadratic``
- ``linear``
- ``univariate``

Dependencies
------------

This module relies on several other parts of Diofant, including:

- Core classes and functions (:class:`~diofant.core.add.Add`, :class:`~diofant.core.relational.Eq`, :func:`~diofant.core.sympify.sympify`, etc.)
- Number theory functions (:func:`~diofant.ntheory.divisors`, :func:`~diofant.ntheory.factorint`, etc.)
- Polynomial handling (:func:`~diofant.polys.polytools.factor_list`)
- Matrix operations (:class:`~diofant.matrices.matrices.Matrix`)
- Simplification routines (:func:`~diofant.simplify.simplify.signsimp`)

Note
----

This documentation is generated from the code and may be incomplete. For more details, refer to the source code and inline comments.