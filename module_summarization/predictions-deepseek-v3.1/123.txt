# DeleteViewMixin and WithinRoleDeleteView

Implements the preview+confirm+delete workflow for object deletion in django_cradmin applications.

## DeleteViewMixin

A mixin class that provides the core functionality for the preview+confirm+delete workflow.

### Key Methods

**get_pagetitle()**
:   Returns the page title (title tag). Defaults to "Confirm delete".

**get_action_label()**
:   Returns the action being performed. Used as prefix for page title and default for delete button label. Defaults to "Delete".

**get_delete_button_label()**
:   Returns the label for the delete button. Defaults to the action label.

**get_cancel_button_label()**
:   Returns the label for the cancel button. Defaults to "Cancel".

**get_object_preview()**
:   Returns a preview of the object to be deleted. Defaults to string representation of the object.

**get_confirm_message()**
:   Returns the confirmation message shown in the focus area. Default format: "Are you sure you want to delete \"[object_preview]\"?"

**get_success_url()**
:   Returns the URL to redirect to after successful deletion. Defaults to the INDEX view of the current app.

**get_success_message(object_preview)**
:   Returns the success message to display after deletion. Default format: "Deleted \"[what]\""

**add_success_messages(object_preview)**
:   Adds success messages after object deletion using Django's messages framework.

**add_delete_view_mixin_context_data(context)**
:   Adds delete view specific context data including model verbose name, success URL, object preview, and button labels.

## WithinRoleDeleteView

A complete delete view implementation that combines multiple mixins for role-based deletion workflows.

### Inheritance
- `QuerysetForRoleMixin` - Provides role-based queryset filtering
- `DeleteViewMixin` - Core delete workflow functionality
- `DjangoDeleteView` - Django's generic delete view
- `CommonCradminViewMixin` - Common cradmin view functionality
- `javascriptregistry.viewmixin.WithinRoleViewMixin` - JavaScript registry integration

### Template
Uses template: `django_cradmin/viewhelpers/formview/within_role_delete_view.django.html`

### Context Data
The view automatically adds the following to the template context:
- JavaScript registry component IDs
- Common view mixin data
- Delete view specific context data from DeleteViewMixin

### Usage
Import using: `from django_cradmin import viewhelpers` and reference as `viewhelpers.formview.WithinRoleDeleteView`

## Workflow
The preview+confirm+delete workflow follows this pattern:
1. Display object preview with confirmation message
2. User confirms or cancels deletion
3. If confirmed, object is deleted and success message is displayed
4. Redirects to success URL after deletion