`verification.rst`
============

Overview
--------

The verification module provides a framework for validating and correcting FITS data structures through a flexible option-based system. It supports multiple verification strategies including ignoring issues, issuing warnings, raising exceptions, and applying automatic fixes.

Classes
-------

VerifyError
~~~~~~~~~~~
Exception class for verification errors that cannot be resolved automatically.

**Inherits from:** Exception

VerifyWarning
~~~~~~~~~~~~~
Warning class for verification issues that may require attention.

**Inherits from:** AstropyUserWarning

_Verify
~~~~~~~
Base class implementing shared verification methods.

**Methods:**

- **run_option(option='warn', err_text='', fix_text='Fixed.', fix=None, fixable=True)**  
  Executes verification with the specified option. Returns a tuple (fixable: bool, message: str).

- **verify(option='warn')**  
  Primary verification entry point. Validates all values in the instance using the specified verification option.

_ErrList
~~~~~~~~
Specialized list class for managing hierarchical verification error messages.

**Methods:**

- **iter_lines(filter=None, shift=0)**  
  Iterates through nested error messages with proper indentation for hierarchical display.

Verification Options
--------------------

Supported verification options include:

- ``ignore``: Skip verification entirely
- ``warn``: Issue warnings for all issues
- ``exception``: Raise exceptions for all issues
- ``fix``: Apply fixes and report unresolved issues
- ``silentfix``: Apply fixes without reporting
- Combined options (e.g., ``fix+warn``, ``silentfix+exception``)

Usage Example
-------------

```python
from astropy.io.fits import verification

# Verify with warnings
obj.verify(option='warn')

# Apply fixes and raise exceptions for unfixable errors
obj.verify(option='fix+exception')
```

Notes
-----

- The verification system uses zero-based indexing for error reporting
- Fixable errors are automatically corrected when using fix-related options
- Unfixable errors may generate warnings or exceptions depending on the option
- The ``_ErrList`` class provides structured error message formatting with proper indentation for hierarchical data structures