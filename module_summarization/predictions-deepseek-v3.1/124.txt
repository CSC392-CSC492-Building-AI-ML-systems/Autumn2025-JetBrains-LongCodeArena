Header Interface Transition Guide
==================================

This document provides a guide to the transition in the header interface, focusing on the verification mechanism and related classes.

Verification Classes
--------------------

The verification system in the header interface is built around the `_Verify` class and associated error handling classes. These are used to validate and fix issues in FITS headers.

### VerifyError
Exception raised when verification fails and the option is set to raise an exception.

### VerifyWarning
Warning issued when verification encounters issues and the option is set to warn.

### _Verify Class
A class providing shared methods for verification. Key methods include:

- `run_option()`: Executes verification with a selected option, handling fixes and error messages.
- `verify()`: Main method to verify all values in the instance, supporting various options like "fix", "warn", "exception", and combinations thereof.

Verification Options
--------------------

The following verification options are supported:

- "ignore": Ignore all verification issues.
- "warn": Issue warnings for verification issues.
- "exception": Raise an exception for verification issues.
- "fix": Attempt to fix issues and report unfixable errors.
- "silentfix": Fix issues silently without reporting.
- Combinations like "fix+ignore", "fix+warn", "fix+exception", "silentfix+ignore", "silentfix+warn", "silentfix+exception".

Error Handling with _ErrList
----------------------------

The `_ErrList` class is a specialized list for collecting and formatting verification error messages in a nested structure. It supports:

- Hierarchical error messages with proper indentation.
- Filtering of error messages based on fixability.
- Iteration over errors with `iter_lines()` for formatted output.

Usage Example
-------------

To use the verification system in a header class, inherit from `_Verify` and implement the `_verify()` method. Use the `verify()` method to perform verification with the desired option.

Additional Utilities
--------------------

The code also includes a `NotifierMixin` for implementing a listener pattern, allowing objects to notify registered listeners of changes. This is used internally for communication between related classes.

Note: This guide covers the transition aspects related to header verification and error handling. For full details, refer to the source code and related documentation.