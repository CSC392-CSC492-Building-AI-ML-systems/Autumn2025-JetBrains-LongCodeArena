Getting Started
===============

This guide will help you get started with using the Mitogen library for Python. Mitogen is a library for writing distributed self-replicating programs in Python. It is designed to be simple, efficient, and robust, making it ideal for automation, orchestration, and remote execution tasks.

Prerequisites
-------------

Before you begin, ensure you have the following:

- Python 2.5 or later (compatible with both Python 2 and 3)
- Basic knowledge of Python programming
- Familiarity with concepts like processes, sockets, and inter-process communication

Installation
------------

To install Mitogen, you can use pip:

.. code-block:: bash

   pip install mitogen

Alternatively, you can clone the repository and install from source:

.. code-block:: bash

   git clone https://github.com/dw/mitogen.git
   cd mitogen
   python setup.py install

Basic Usage
-----------

Mitogen allows you to create child contexts (processes) that can execute code remotely or locally. Here is a simple example to get you started:

.. code-block:: python

   import mitogen.master

   # Create a master context
   master = mitogen.master.Master()

   # Create a child context (local child process)
   child = master.local()

   # Call a function in the child context
   result = child.call(os.getpid)
   print("Child PID:", result)

This example creates a local child process and retrieves its process ID.

Key Features
------------

- **Efficient Communication**: Uses compressed and minified code transmission to reduce overhead.
- **Cross-Platform**: Works on Linux, macOS, and other Unix-like systems.
- **Recursive Connections**: Child contexts can themselves become parents, enabling complex topologies.
- **Security**: Supports SELinux and includes safe defaults for process execution.

Advanced Configuration
----------------------

You can customize Mitogen's behavior using various hooks and settings. For example, to set a pre-execution hook for child processes:

.. code-block:: python

   def my_preexec_fn():
       # Custom code to run before exec() in child
       pass

   mitogen.parent._preexec_hook = my_preexec_fn

Troubleshooting
---------------

- If you encounter issues with PTY creation, check system limits (e.g., `kern.tty.ptmx_max` on macOS or `kernel.pty.max` on Linux).
- Ensure `sys.executable` is set correctly if child contexts fail to start.

For more detailed information, refer to the full documentation and API reference.