w_init
======

The ``w_init`` command initializes a new WEST simulation by creating the WEST HDF5 file and preparing the first iteration's segments.

Synopsis
--------

.. code-block:: bash

    w_init [--force] [--bstates-from BSTATE_FILE] [--bstate LABEL,PROBABILITY[,AUXREF]]... [--tstates-from TSTATE_FILE] [--tstate LABEL,PCOORD0[,PCOORD1...]]... [--sstates-from SSTATE_FILE] [--sstate LABEL,PROBABILITY[,AUXREF]]... [--segs-per-state N] [--no-we] [WESTPA_RC_ARGS] [WORK_MANAGER_ARGS]

Description
-----------

The ``w_init`` command sets up the initial state of a WESTPA simulation. It processes basis states, target states, and start states to generate the initial segments for the first iteration. The command supports reading states from files or directly from the command line, and allows configuration of the number of segments per state and whether to use the weighted ensemble algorithm.

Initial states are generated from one or more "basis states". These can be specified either in a file using ``--bstates-from`` or via one or more ``--bstate`` arguments. If neither is provided, a default basis state with probability one, state ID zero, and label "basis" is created (a warning is issued in this case).

Target states for non-equilibrium steady-state simulations are specified either in a file using ``--tstates-from`` or via one or more ``--tstate`` arguments. If neither is provided, an equilibrium simulation without any sinks is performed.

Start states can also be specified using ``--sstates-from`` or ``--sstate``, following the same pattern as basis states.

Options
-------

--force
    Overwrite any existing simulation data.

--bstates-from BSTATE_FILE, --bstate-file BSTATE_FILE
    Read basis state names, probabilities, and (optionally) data references from BSTATE_FILE.

--bstate LABEL,PROBABILITY[,AUXREF]
    Add a basis state specified as a string 'label,probability[,auxref]'. This option can be used multiple times to append states in the order given.

--tstates-from TSTATE_FILE, --tstate-file TSTATE_FILE
    Read target state names and representative progress coordinates from TSTATE_FILE. WESTPA converts the entire bin containing the representative progress coordinate into a recycling sink.

--tstate LABEL,PCOORD0[,PCOORD1...]
    Add a target state specified as a string 'label,pcoord0[,pcoord1[,...]]'. This option can be used multiple times to append states in the order given.

--sstates-from SSTATE_FILE, --sstate-file SSTATE_FILE
    Read start state names, probabilities, and (optionally) data references from SSTATE_FILE.

--sstate LABEL,PROBABILITY[,AUXREF]
    Add a start state specified as a string 'label,probability[,auxref]'. This option can be used multiple times to append states in the order given.

--segs-per-state N
    Initialize N segments from each basis state. Default is 1.

--no-we, --shotgun
    Do not run the weighted ensemble bin/split/merge algorithm on newly-created segments.

Additional WESTPA and work manager arguments may also be provided as needed.

Examples
--------

Initialize a simulation with a basis state from a file and a target state from the command line:

.. code-block:: bash

    w_init --bstates-from bstates.txt --tstate bound,1.0

Initialize with multiple basis states specified directly:

.. code-block:: bash

    w_init --bstate A,0.5 --bstate B,0.5 --tstate bound,1.0

Initialize with 5 segments per basis state and disable weighted ensemble:

.. code-block:: bash

    w_init --bstates-from bstates.txt --segs-per-state 5 --no-we

Notes
-----

- If no basis states are provided, a default state is created with label "basis", probability 1.0, and state ID 0.
- If no target states are provided, an equilibrium simulation is performed.
- The ``--force`` option should be used with caution as it will overwrite existing data.