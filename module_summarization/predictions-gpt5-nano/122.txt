Unified renderable interface
============================

Overview
--------

The renderable interface provides a unified, reusable pattern for rendering components via Django templates. A renderable object supplies a template name and context data and can render itself to a string using Django’s render_to_string. The API is designed to be extended by optional CSS handling and optional BEM (Block-Element-Modifier) naming.

join_css_classes_list
---------------------

Join the provided list of CSS class names into a single string. The result uses two spaces as separators.

AbstractRenderable
------------------

Base class for all renderables. Encapsulates the core render workflow.

Key concepts
- A renderable defines how to render itself by providing template information and a context.

Public API
- template_name (class attribute)
  - The default template name(s) for rendering. Must be set by subclasses or via get_template_names().
- get_template_names(self)
  - Return the template name(s) used by render.
  - If template_name is not set, this method raises NotImplementedError.
- get_context_data(self, request=None)
  - Return a mapping to be used as the template context.
  - Default: {'me': self}
  - The optional request parameter is forwarded to support request-aware contexts.
- render(self, request=None, extra_context_data=None)
  - Render the template(s) returned by get_template_names() using the context from get_context_data(request=request), optionally augmented by extra_context_data.
  - If a request is provided, it is forwarded to render_to_string and to get_context_data.

Usage notes
- Subclasses should set template_name or override get_template_names().
- The default context provides a convenient reference to the renderable instance as 'me'.

AbstractRenderableWithCss
-------------------------

Extends AbstractRenderable with a unified API for CSS class handling. This enables components to expose predictable CSS classes for styling and testing.

Key concepts
- CSS class composition
  - The final CSS string is obtained by joining the lists returned by get_css_classes_list().
  - Optional test CSS classes can be appended when a specific setting is enabled.

Public API
- get_base_css_classes_list(self)
  - Return the base CSS classes for the renderable. Default is [].
- get_extra_css_classes_list(self)
  - Return additional CSS classes for the renderable. Default is [].
- get_css_classes_list(self)
  - Return the full list of CSS classes by combining the base and extra classes.
- get_test_css_class_suffixes_list(self)
  - Return a list of suffixes for test CSS classes. These suffixes are used to generate test-specific classes via a template tag.
- css_classes (property)
  - Returns a string of CSS classes by joining get_css_classes_list().
  - If the DJANGO_CRADMIN_INCLUDE_TEST_CSS_CLASSES setting is True, additional test CSS classes are appended using cradmin_test_css_class() for each suffix.
- get_css_classes_string(self)
  - Deprecated alias for css_classes. Emits a deprecation warning and returns the same value as css_classes.

AbstractBemRenderable
---------------------

Base class for renderables that use BEM (Block-Element-Modifier) naming.

Constructor
- __init__(self, bem_block=None, bem_element=None, bem_variant_list=None, extra_css_classes_list=None)
  - bem_block: BEM block name. Mutually exclusive with bem_element.
  - bem_element: BEM element name. If provided, must contain '__' to separate block and element.
  - bem_variant_list: List of BEM variants (suffixes after the block/element).
  - extra_css_classes_list: Additional CSS classes to extend the renderable’s class list.

Validation
- If both bem_block and bem_element are supplied, a ValueError is raised.
- If bem_element is supplied and does not contain '__', a ValueError is raised.

Internal state
- _bem_block: Stored block name
- _bem_element: Stored element name
- _bem_variant_list: Stored list of BEM variants
- _extra_css_classes_list: Stored extra CSS classes

Public API
- get_test_css_class_suffixes_list(self)
  - Return a list of suffixes for test CSS classes. Defaults to [].
- bem_block_or_element(self) (property)
  - Return the bem block if available, otherwise fall back to the bem element.
- get_bem_block(self)
  - Return the bem block string.
- get_bem_element(self)
  - Return the bem element string.
- get_test_css_class_suffixes_list(self)
  - See above.

Notes
- This class provides a structured way to express BEM-based naming for rendered components while integrating with the shared renderable workflow and optional CSS handling.

Unified renderable interface in practice
----------------------------------------

- Core rendering is handled by AbstractRenderable through render(), get_template_names(), and get_context_data().
- Styling can be enhanced with AbstractRenderableWithCss to expose a predictable CSS class surface, including optional test classes.
- BEM-based naming can be adopted with AbstractBemRenderable to naturally express Block-Element-Modifier naming, while still benefiting from the common render/templating interface.

This combination enables a consistent, extensible approach to rendering components, styling them coherently, and (where desired) using BEM naming conventions.