Generate documentation for this module
======================================

Overview
--------

This module provides utilities used by the distribution/build process. It defines a container for installable library information, several path and frame-traversal helpers, and utilities to determine parallel build settings. It also sets up cleanup of temporary directories created during builds.

Public API
----------

InstallableLib
^^^^^^^^^^^^^^

class InstallableLib
Container to hold information on an installable library.

Parameters
- name: str
  Name of the installed library.
- build_info: dict
  Dictionary holding build information.
- target_dir: str
  Absolute path specifying where to install the library.

Attributes
- name
- build_info
- target_dir

Notes
- See Also: Configuration.add_installed_library

get_num_build_jobs()
^^^^^^^^^^^^^^^^^^^^^^^

Get number of parallel build jobs. The value can be configured via:
- The --parallel command line option on setup.py, or
- The environment variable NPY_NUM_BUILD_JOBS, or
- The number of CPUs on the system (capped at 8 to avoid overloading).

Returns
- out: int
  The maximum number of parallel build jobs that can be run.

Deprecation
- This function is independent of deprecated features; it reflects current parallelism settings.

quote_args(args)
^^^^^^^^^^^^^^^

Quote a list of arguments.

.. deprecated:: 1.22
   This function is deprecated and will be removed in a future release.

Parameters
- args: iterable of str
  Arguments to quote.

Returns
- args: list of str
  The possibly quoted argument list.

Notes
- Issues a DeprecationWarning when called.

allpath(name)
^^^^^^^^^^^^^^

Convert a /-separated pathname to one using the OS's path separator.

Parameters
- name: str
  Path name using forward slashes.

Returns
- str
  Path with OS-specific separators.

rel_path(path, parent_path)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Return path relative to parent_path.

Parameters
- path: str
  Absolute or relative path to be reduced.
- parent_path: str
  Base path to which the result should be relative.

Returns
- str
  Relative path from parent_path to path, or the original path if not relative.

get_path_from_frame(frame, parent_path=None)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Return path of the module given a frame object from the call stack.

Parameters
- frame: frame object
  A frame from the call stack.
- parent_path: str, optional
  If provided, the returned path is made relative to this path.

Returns
- str
  Absolute path or path relative to parent_path if given.

njoin(*path)
^^^^^^^^^^^^^^

Join two or more pathname components and normalize.

- Converts /-separated path components to the OS-specific separator.
- Resolves .. and . components.
- Accepts either separate arguments or a single sequence argument (or a mixture).

Parameters
- path: one or more path components or a sequence of components

Returns
- str
  The joined and normalized path.

Internal state and helpers
--------------------------

- _tdata: thread-local storage used to store temporary per-thread data.
- _tmpdirs: list of temporary directories created during operations.
- clean_up_temporary_directory(): cleans up all tracked temporary directories. Registered with atexit to run on process exit.
- atexit.register(clean_up_temporary_directory): ensures cleanup at interpreter shutdown.

API surface
-----------

__all__ = [
  'Configuration', 'get_numpy_include_dirs', 'default_config_dict',
  'dict_append', 'appendpath', 'generate_config_py',
  'get_cmd', 'allpath', 'get_mathlibs',
  'terminal_has_colors','red_text', 'green_text', 'yellow_text',
  'blue_text', 'cyan_text', 'cyg2win32','mingw32', 'all_strings',
  'has_f_sources', 'has_cxx_sources', 'filter_sources',
  'get_dependencies', 'is_local_src_dir', 'get_ext_source_files',
  'get_script_files', 'get_lib_source_files', 'get_data_files',
  'dot_join', 'get_frame','minrelpath', 'njoin',
  'is_sequence', 'is_string', 'as_list', 'gpaths', 'get_language',
  'get_build_architecture', 'get_info', 'get_pkg_info',
  'get_num_build_jobs','sanitize_cxx_flags',
  'exec_mod_from_location'
]

Notes
-----

- The quote_args function is deprecated and emits a DeprecationWarning when used.
- The module uses atexit to ensure cleanup of temporary resources created during builds.
- The __all__ list documents the public API surface exported by this module.

Example usage
-------------

- Determine the number of build jobs:

  get_num_build_jobs()

- Join path components robustly:

  njoin('path', 'to', 'dir')

- Convert a POSIX-like path to OS-specific notation:

  allpath('a/b/c')