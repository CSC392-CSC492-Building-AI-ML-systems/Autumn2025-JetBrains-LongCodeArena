Plothist
========

Plot histograms from fasthist data stored in an HDF5 file.

Overview
--------
This command reads an HDF5 file containing histogram data and produces a plot for a specified histogram dimension. The plot scale can be linear, logarithmic, or an energy-like scale. Users may override the zero of energy, specify a plotting range, add a title, and optionally overlay a contour for 2D plots. The command can also store the plotted data within an HDF5 file.

Usage
-----
plothist [OPTIONS] INPUT [FIRSTDIM]

- INPUT: HDF5 file containing histogram data
- FIRSTDIM: dimension to plot, specified as INT[:[LB,UB]:LABEL]
  - INT is a zero-based integer identifying the dimension in the histogram
  - LB and UB are lower and upper bounds for plotting
  - LABEL is the label for the plot axis
  - Default: dimension 0, full range

Arguments
---------
INPUT
  HDF5 file containing histogram data

FIRSTDIM
  Plot for the given DIMENSION, specified as INT[:[LB,UB]:LABEL], where
  INT is a zero-based integer identifying the dimension in the histogram,
  LB and UB are lower and upper bounds for plotting, and LABEL is the label for
  the plot axis. (Default: dimension 0, full range.)

Output options
--------------
-o, --output, --plot-output
  Store plot as PLOT_OUTPUT. This may be set to an empty string
  (e.g. --plot-output='') to suppress plotting entirely. The output
  format is determined by filename extension (defaults to PDF).
  Default: hist.pdf

--hdf5-output
  Store plot data in the HDF5 file HDF5_OUTPUT.

--plot-contour
  Determine whether or not to superimpose a contour plot over the heatmap for 2D objects.
  Default: False

Plot options
------------
--title
  Include TITLE as the top-of-graph title

--linear
  Plot the histogram on a linear scale.

--energy
  Plot the histogram on an inverted natural log scale, corresponding to (free) energy
  (default).

--zero-energy
  Set the zero of energy to E, which may be a scalar, "min" or "max".
  Value can be a number, or one of 'min' or 'max'. Default: 'min'.

--log10
  Plot the histogram on a base-10 log scale.

--range
  Plot histogram ordinates over the given RANGE, specified as "LB,UB",
  where LB and UB are the lower and upper bounds, respectively. For 1-D plots,
  this is the Y axis. For 2-D plots, this is the colorbar axis. Default: full range.

--postprocess-function
  Names a function (as in module.function) that will be called just prior
  to saving the plot. The function will be called as
  postprocess(hist, midpoints, binbounds) where hist is the histogram that was plotted,
  midpoints are the bin midpoints for each dimension, and binbounds are the bin
  boundaries for each dimension for 2-D plots, or None otherwise. The plot must be
  modified in place using the pyplot stateful interface.

Defaults
--------
- plotscale defaults to energy
- enerzero defaults to 'min'
- plot-contour defaults to False

Notes
-----
- Divide-by-zero in logarithmic scales is suppressed.

Example
-------
plothist data.h5 0
plothist data.h5 0 --plot-output=hist.png --range="0,1" --title="Histogram"