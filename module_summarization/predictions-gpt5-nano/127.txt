Convolution built-in kernels
=============================

Overview
--------

The Convolution module provides built-in kernel representations used by the Convolution class. Kernels encapsulate the numeric data and metadata needed to perform 1D or 2D convolution in a consistent, efficient way. The primary kernel classes are Kernel, Kernel1D, and Kernel2D.

Kernel types
------------

- Kernel: A general N-dimensional kernel container.
- Kernel1D: A one-dimensional kernel.
- Kernel2D: A two-dimensional kernel.

Creating and using kernels
--------------------------

Kernels can be created directly from numeric arrays or derived from existing Kernel objects. If the input is a Kernel, its internal array is used. If the input carries unit information, the unit is stripped and only the numeric data are used for convolution.

Performance and FFT sizes
-------------------------

For FFT-based convolution, the input is padded to lengths that are optimal for fast Fourier transforms. The target padded shape is computed by _next_fast_lengths(shape). If SciPy is available, scipy.fft.next_fast_len is used to determine efficient lengths. If SciPy is not available, a fallback method is used based on a predefined list of “good” sizes (_good_sizes) scaled by powers of ten. If no suitable length can be found, a ValueError is raised.

Boundary handling
-----------------

Convolution supports several boundary options that determine how data outside the input array is treated during convolution. The supported boundary options include:

- None
- "fill"
- "wrap"
- "extend"

Input preparation and masking
-----------------------------

Before applying convolution, inputs may be copied to ensure safe manipulation when nan_treatment is "fill" or when masking is involved. If the input is masked, a copy is created and masked values are filled as needed. If the input includes units, the units are removed prior to convolution.

Normalization and validation
-----------------------------

Kernels can be normalized according to a specified normalization factor, with a maximum allowed normalization governed by MAX_NORMALIZATION. Validation utilities such as has_even_axis and raise_even_kernel_exception help ensure kernels have valid geometry and provide informative errors when issues are detected.

Constants and helpers
---------------------

- MAX_NORMALIZATION: Maximum allowed normalization for kernels.
- BOUNDARY_OPTIONS: Available boundary handling options (None, "fill", "wrap", "extend").

Examples
--------

(Insert usage examples for Kernel, Kernel1D, and Kernel2D as appropriate for your project.)