Random Projection transformers
================================

Overview
--------
This module implements random projection transformers for dimensionality reduction. Random projections offer a fast and memory-efficient way to reduce the dimensionality of data while trading a controlled amount of accuracy for speed and smaller model sizes. The projections are designed so that pairwise distances between samples are approximately preserved in the reduced space.

The approach is based on the Johnson-Lindenstrauss lemma, which states that a set of points in high-dimensional space can be mapped into a lower-dimensional space with distortion bounded by a user-specified epsilon. The projection is typically accomplished by multiplying the data by a random matrix (dense Gaussian or sparse, such as Achlioptas matrices).

Key theoretical ideas (from the module docstring)
- An eps-embedding satisfies: (1 - eps) ||u - v||^2 < ||p(u) - p(v)||^2 < (1 + eps) ||u - v||^2 for all rows u, v.
- The required number of components n_components to guarantee the embedding with good probability scales with n_samples and eps, roughly as 4 log(n_samples) / (eps^2/2 - eps^3/3).
- The dimensionality bound depends on the dataset size, not directly on the original number of features.

Public API
----------
- SparseRandomProjection
- GaussianRandomProjection
- johnson_lindenstrauss_min_dim(n_samples, eps=0.1)

johnson_lindenstrauss_min_dim
-----------------------------
Compute a safe (minimum) number of components required to achieve an eps-embedding with high probability.

Parameters
- n_samples: int or array-like of int
  Number of samples that should be greater than zero. If an array is given, the function computes a safe number of components element-wise.
- eps: float or array-like of shape (n_components,), default=0.1
  Maximum distortion rate in the open interval (0, 1) as defined by the Johnson-Lindenstrauss lemma. If an array is given, the function computes a safe number of components element-wise.

Returns
- n_components: int or ndarray of int
  The minimal number of components to guarantee with high probability an eps-embedding with n_samples.

Notes
- The function validates that 0 < eps < 1 and n_samples > 0.
- The bound is independent of the original feature count and grows with the dataset size.

References
- Johnson-Lindenstrauss lemma on Wikipedia
- Dasgupta, Sanjoy and Gupta, An elementary proof of the Johnson-Lindenstrauss Lemma (1999)

Parameters validation and internal helpers
------------------------------------------
The module uses parameter validation helpers to support array-like inputs and to enforce valid ranges:
- density checks: _check_density(density, n_features)
  - density == "auto" defaults to 1 / sqrt(n_features)
  - density must be in (0, 1]
- input size checks: _check_input_size(n_components, n_features)
  - ensures positive n_components and n_features
- there are internal helpers for generating random matrices:
  - _gaussian_random_matrix(n_components, n_features, random_state=None)

Implementation notes
--------------------
- The dense Gaussian random matrix entries are drawn from N(0, 1/n_components).
- The density parameter controls sparsity for sparse random projections.
- The module contains support for array-like inputs to facilitate batch computation of the minimal dimension.

Examples
--------
- Compute a safe dimension for a dataset with 1,000,000 samples and eps = 0.5:
  johnson_lindenstrauss_min_dim(1e6, eps=0.5)

- Compute safe dimensions for a vector of samples with different epsilons:
  johnson_lindenstrauss_min_dim([1e4, 1e5, 1e6], eps=0.1)

- Compute safe dimensions for a list of sample counts and multiple epsilons:
  johnson_lindenstrauss_min_dim([1e4, 1e5, 1e6], eps=[0.5, 0.1, 0.01])

Authors and license
-------------------
Authors: Olivier Grisel, Arnaud Joly
License: BSD 3-clause

See Also
--------
- References: Johnson-Lindenstrauss lemma; related literature linked in the module docstring.