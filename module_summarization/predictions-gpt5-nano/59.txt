Quantile Regression (QuantReg)
==============================

Overview
--------
QuantReg implements a quantile regression model estimated via iterative reweighted least squares (IRLS). The asymptotic covariance matrix of the parameter estimates is computed using kernel density estimation, with selectable kernel and bandwidth options. This class is part of the regression modeling framework and leverages the standard Statsmodels infrastructure (RegressionModel, RegressionResults, etc.).

Author and Licensing
--------------------
- Author: Vincent Arel-Bundock
- License: BSD-3
- Created: 2013-03-19

Notes
-----
- The Least Absolute Deviation (LAD) estimator is obtained as a special case when the quantile q is 0.5.
- The asymptotic covariance follows Greene (2008) using the chosen kernel and bandwidth for density estimation.
- Kernels supported in the API: Epanechnikov, Cosine, Gaussian, Parzen, plus a biweight option.
- Bandwidth selectors supported: Hall-Sheather (hsheather), Bofinger (bofinger), Chamberlain (chamberlain).
- Internal state includes endog, exog, nobs, rank, df_model, and df_resid. The rank and degrees of freedom are derived from the design matrix.

API
---
Class
- QuantReg(RegressionModel)
  - A quantile regression model that uses IRLS to estimate the regression coefficients for a specified quantile.

Key methods
- whiten(self, data)
  - A placeholder/identity transformation used by the model. Returns data unchanged.

- fit(self, q=0.5, vcov='robust', kernel='epa', bandwidth='hsheather',
       max_iter=1000, p_tol=1e-6, **kwargs)
  - Solve by Iterative Weighted Least Squares.
  - Parameters
    - q: float in [0, 1], the target quantile (default 0.5).
    - vcov: variance-covariance estimator for the parameters; 'robust' (default) or 'iid'.
      - 'robust': heteroskedasticity-robust standard errors.
      - 'iid': iid errors standard errors.
    - kernel: kernel used in the kernel density estimation for the covariance; one of:
      'biw', 'cos', 'epa', 'gau', 'par' (default 'epa').
    - bandwidth: bandwidth selection for the KDE; one of:
      'hsheather', 'bofinger', 'chamberlain' (default 'hsheather').
    - max_iter: maximum number of IRLS iterations (default 1000).
    - p_tol: convergence tolerance for the parameter updates (default 1e-6).
    - **kwargs: additional keyword arguments passed to the underlying regression framework.
  - Description
    - Validates q and the kernel/bandwidth options.
    - Performs IRLS with an initial OLS-like start (via a pseudo-inverse solution) and updates coefficients until convergence or a maximum number of iterations is reached.
    - Returns a regression results wrapper containing estimated coefficients, standard errors, test statistics, and related diagnostics.

Usage
-----
Example
- Fit a quantile regression model for the 0.25 quantile:
  - mod = QuantReg(endog, exog)
  - res = mod.fit(q=0.25)
  - print(res.summary())

Notes on results
- The fit method returns a RegressionResultsWrapper (consistent with Statsmodels conventions), containing parameter estimates, standard errors (as determined by vcov), and diagnostic information.

References
----------
- General:
  - Koenker, R. (Quantile Regression). Cambridge University Press.
  - Greene, W. H. (Econometric Analysis). Sixth edition.
  - LeSage, J. P. (Applied Econometrics Using MATLAB).
  - Hall, P., & Sheather, S. (1988). On the distribution of the Studentized quantile.
- Kernels and bandwidths implemented when computing the asymptotic covariance:
  - Green (2008), Table 14.2.
  - Bofinger (1975); Chamberlain (1994).

See Also
--------
- statsmodels.regression.linear_model.RegressionModel
- statsmodels.regression.linear_model.RegressionResults
- statsmodels.regression.linear_model.RegressionResultsWrapper

Internal Implementation Details
-------------------------------
- Uses kernel density estimation to obtain the asymptotic covariance matrix.
- The model state includes endog, exog, nobs, and rank derived from the design matrix.
- The initial estimate is obtained in a manner similar to ordinary least squares, with subsequent IRLS updates for the targeted quantile.

History
-------
- Based on the original IRLS implementation with contributions from Shapour Mohammadi (Matlab) and Christian Prinoth (Python translation).