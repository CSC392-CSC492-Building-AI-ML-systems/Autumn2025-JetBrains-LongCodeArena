Configuration Options
=====================

Overview
--------
This document describes the configuration options used to control what components are exported to or imported from JSON files in the PyAEDT configuration workflow. The ConfigurationsOptions class exposes toggles for exporting and importing various AEDT model components and data, enabling fine-grained control over the JSON persistence process.

API
----

Class: ConfigurationsOptions
---------------------------

Description
  Options class for the configurations. User can enable or disable import/export components.

Constructor
  __init__()
  - Initializes all export/import flags with their default values.

Attributes (Properties)
  object_mapping_tolerance (float)
    Get/Set the tolerance value to be used in the object mapping (used e.g. for boundaries).

    Default: 1e-9

  export_variables (bool)
    Define if the variables have to be exported into the JSON file. Default is True.

    Example
    >>> from pyaedt import Hfss
    >>> hfss = Hfss()
    >>> hfss.configurations.options.export_variables = False  # Disable the variables export

  export_setups (bool)
    Define if the setups have to be exported to the JSON file. Default is True.

    Example
    >>> hfss.configurations.options.export_setups = False  # Disable the setup export

  export_optimizations (bool)
    Define if the optimizations have to be exported to the JSON file. Default is True.

    Example
    >>> hfss.configurations.options.export_optimizations = False  # Disable the optimization export

  export_parametrics (bool)
    Define if the parametrics have to be exported to the JSON file. Default is True.

    Example
    >>> hfss.configurations.options.export_parametrics = False  # Disable the parametrics export

  export_boundaries (bool)
    Define if the boundaries have to be exported to the JSON file. Default is True.

    Example
    >>> hfss.configurations.options.export_boundaries = False  # Disable the boundaries export

  export_mesh_operations (bool)
    Define if mesh operations have to be exported to the JSON file. Default is True.

  export_coordinate_systems (bool)
    Define if coordinate systems have to be exported to the JSON file. Default is True.

  export_materials (bool)
    Define if materials have to be exported to the JSON file. Default is True.

  export_object_properties (bool)
    Define if object properties have to be exported to the JSON file. Default is True.

  export_datasets (bool)
    Define if datasets have to be exported to the JSON file. Default is True.

  import_datasets (bool)
    Define if datasets have to be imported from the JSON file. Default is True.

  import_variables (bool)
    Define if variables have to be imported from the JSON file. Default is True.

  import_setups (bool)
    Define if setups have to be imported from the JSON file. Default is True.

  import_optimizations (bool)
    Define if optimizations have to be imported from the JSON file. Default is True.

  import_parametrics (bool)
    Define if parametrics have to be imported from the JSON file. Default is True.

  import_boundaries (bool)
    Define if boundaries have to be imported from the JSON file. Default is True.

  import_mesh_operations (bool)
    Define if mesh operations have to be imported from the JSON file. Default is True.

  import_coordinate_systems (bool)
    Define if coordinate systems have to be imported from the JSON file. Default is True.

  import_materials (bool)
    Define if materials have to be imported from the JSON file. Default is True.

  import_object_properties (bool)
    Define if object properties have to be imported from the JSON file. Default is True.

  skip_import_if_exists (bool)
    If True, skip importing when the target object already exists. Default is False.

Internal utility
  _find_datasets(d, out_list)
    Recursively traverse a nested dictionary/list structure to collect dataset identifiers.
    Specifically, it looks for entries where a 'free_form_value' contains a 'pwl' entry and extracts the
    substring between the leading '$' and the following comma. This helper accumulates results into out_list.

    Signature
      _find_datasets(d, out_list)

    Parameters
      d: dict
        Nested dictionary (and/or lists) containing dataset specifications.

      out_list: list
        Collector for discovered dataset identifiers.

    Notes
      - Traverses dictionaries recursively.
      - For list values, iterates elements and attempts to extract dataset strings.
      - Ignores missing keys or non-dictionary/list structures via exception handling.

Usage examples
--------------

- Disable exporting of variables, setups, and datasets:
  >>> hfss = Hfss()
  >>> hfss.configurations.options.export_variables = False
  >>> hfss.configurations.options.export_setups = False
  >>> hfss.configurations.options.export_datasets = False

- Adjust object mapping tolerance:
  >>> hfss.configurations.options.object_mapping_tolerance = 1e-8

Internal API notes
------------------
- The class is designed to be extended for other AEDT products by reusing the same option pattern.
- The _find_datasets helper is an internal utility used during export/import to identify dataset references within the configuration data structure.

See Also
--------
- pyaedt
- Hfss, Icepak (example AEDT product wrappers)

This document describes the configuration options as implemented in the provided code snippet and how to interact with them from user code.