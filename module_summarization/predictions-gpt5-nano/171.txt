Calculator Interface
====================

Overview
--------

The Calculator Interface defines how calculators expose their parameters and how those parameters can be discovered across all models. It provides a lightweight mechanism to enumerate which parameters are used by which models, enabling consistent parameter handling in calculators and fitting workflows.

Parameter discovery
-------------------

- Each model exposes its parameters via model_info.parameters.kernel_parameters.
- The helper function find_pars(kind=None) collects all parameters from all models and builds a mapping:

  { parameter_name: [model_name, model_name, ...] }

  Optionally, parameters can be filtered by kind.

CLI: list_pars
--------------

- The function list_pars(names_only=True, kind=None) prints parameter information.
  - If names_only is True, only the parameter names are printed (one per line, sorted).
  - If names_only is False, prints "parameter: model1, model2, ..." per line.

- The main entry point creates a CLI:
  - Usage: python -m sasmodels.list_pars [-v]
  - -v, --verbose: list the models that use each parameter (names_only becomes False)
  - kind argument controls filtering by parameter kind

Kind filtering
--------------

- Supported kinds for filtering: volume, orientation, sld, none, any
- Mapping behavior:
  - any -> None (no kind filtering)
  - none -> None (explicitly no kind; same as any in effect)
  - volume/orientation/sld -> that kind
- Default: kind="any" (no filtering)

Implementation notes
--------------------

- Core functions involved:
  - list_models(): iterate over available models
  - load_model_info(name): retrieve model metadata, including kernel_parameters
  - columnize: used to format output in aligned columns
- The approach provides a simple, uniform way to inspect which parameters are used by which models, aiding calculator development and parameter management.

Example
-------

- List all parameters (names only):

  python -m sasmodels.list_pars

- List parameters with model names:

  python -m sasmodels.list_pars -v

- Filter by parameter kind (e.g., volume):

  python -m sasmodels.list_pars volume

- Filter with no kind (explicit none/any):

  python -m sasmodels.list_pars none
  python -m sasmodels.list_pars any

See also
--------

- sasmodels.core: load_model_info, list_models
- sasmodels.compare: columnize

Notes
-----

This interface is a minimal utility within the calculator ecosystem to support discovery and inspection of model parameters across the SasModels model repository.