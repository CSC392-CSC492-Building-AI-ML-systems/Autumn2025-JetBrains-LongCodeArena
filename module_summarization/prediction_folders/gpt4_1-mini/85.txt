Piccolo Projects Module
=======================

Overview
--------
This module provides core functionality for managing Piccolo applications, including app configuration, table discovery, and migration handling. It defines key classes and functions to facilitate the registration and management of Piccolo apps and their database tables.

Key Components
--------------

MigrationModule
---------------
A specialized module type representing a database migration. It includes metadata such as ID, version, and description, and defines an asynchronous `forwards` method to apply the migration.

PiccoloAppModule
----------------
A specialized module type representing a Piccolo app module. It contains an `APP_CONFIG` attribute which holds the app's configuration.

table_finder
------------
A utility function to discover and import `Table` subclasses from specified modules. It supports filtering tables by tags and can exclude tables imported from other modules.

Parameters:
- `modules` (Sequence[str]): List of module paths to search for `Table` subclasses.
- `include_tags` (Sequence[str], optional): Tags to include tables by. Defaults to `['__all__']`.
- `exclude_tags` (Sequence[str], optional): Tags to exclude tables by.
- `exclude_imported` (bool, optional): If True, excludes tables imported from other modules.

Returns:
- List of `Table` subclasses matching the criteria.

AppConfig
---------
Represents the configuration for a Piccolo app. Each app must define an `AppConfig` in its `piccolo_app.py` file.

Attributes:
- `app_name` (str): The name of the app.
- `migrations_folder_path` (str): Path to the folder containing migration files.
- `table_classes` (List[Type[Table]]): Registered table classes for the app.
- `migration_dependencies` (List[str]): List of other Piccolo apps this app's migrations depend on.
- `commands` (List[Union[Callable, Command]]): Functions or coroutines registered as CLI commands.

Methods:
- `register_table(table_class: Type[Table])`: Registers a table class with the app.
- `migration_dependency_app_configs`: Property that returns the `AppConfig` instances of migration dependencies.
- `get_table_with_name(table_class_name: str)`: Retrieves a registered table class by name.

Command
-------
A dataclass representing a CLI command for a Piccolo app.

Attributes:
- `callable` (Callable): The function or coroutine to execute.
- `aliases` (List[str]): Alternative names for the command.

AppRegistry
-----------
Manages the collection of Piccolo apps in a project. Typically instantiated in `piccolo_conf.py`.

Attributes:
- `apps` (List[str]): List of module paths to Piccolo apps.
- `app_configs` (Dict[str, AppConfig]): Mapping of app names to their configurations.

Usage
-----
- Define an `AppConfig` in each Piccolo app to register tables, migrations, and commands.
- Use `table_finder` to automatically discover tables within specified modules.
- Manage app dependencies and migrations through the `AppConfig` and `AppRegistry`.
- Register CLI commands via the `commands` attribute in `AppConfig`.

This module is essential for organizing Piccolo projects, enabling modular app development, and simplifying database migration management.