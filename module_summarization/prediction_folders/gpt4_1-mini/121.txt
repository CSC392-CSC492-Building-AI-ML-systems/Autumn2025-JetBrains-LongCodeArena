Create Cradmin menu system
==========================

The Cradmin menu system provides a flexible and extensible way to create navigation menus in your Django Cradmin applications. It is built around renderable classes that generate HTML markup with BEM (Block Element Modifier) CSS conventions, allowing easy styling and customization.

Default Expandable Menu Renderable
----------------------------------

You can obtain the default expandable menu renderable by using the function:

.. code-block:: python

    from django_cradmin.crmenu import get_default_expandable_menu_renderable

    menu = get_default_expandable_menu_renderable(**kwargs)

This function returns an instance of the expandable menu renderable class configured in the Django settings under the key ``DJANGO_CRADMIN_DEFAULT_EXPANDABLE_MENU_CLASS``. If no class is configured, it returns ``None``.

Base Menu Link Renderable
-------------------------

The base class for menu link items is :class:`BaseMenuLinkRenderable`. It represents a single clickable link in the menu.

**Constructor parameters:**

- **label**: The text label displayed for the menu item.
- **url**: The URL the menu item points to.
- **is_active**: Boolean indicating if the menu item should be styled as active.
- **bem_variant_list**: Optional list of BEM variants for styling.
- **parent_bem_block**: Optional BEM block name for CSS scoping.

This class provides methods to determine the BEM block and element names used for CSS styling, and automatically adds an "active" variant if the item is active.

Main Menu Link Items
--------------------

- :class:`NavLinkItemRenderable`  
  Use this class to add standard links to the main menu.

- :class:`NavLinkButtonItemRenderable`  
  Use this class to add links styled as buttons in the main menu. This class overrides the BEM variant list to include ``button``.

Expandable Menu Items
---------------------

- :class:`ExpandableMenuItem`  
  Represents a menu item that can expand to show sub-items. It uses a different template and BEM block name (`expandable-menu`) for styling.

- :class:`ExpandableMenuSeparator`  
  Represents a separator line within an expandable menu. It is a non-clickable visual separator.

Menu Toggle Item
----------------

- :class:`MenuToggleItemItemRenderable`  
  Represents a toggle button for expandable menus, typically used to show or hide the menu on smaller screens. It provides a localized label ("Menu") and appropriate BEM CSS classes for styling.

Abstract Menu Renderable
------------------------

The base class for rendering a complete menu is :class:`AbstractMenuRenderable`. It manages a list of renderable menu items and provides methods to access the classes used for links, separators, and buttons.

**Key attributes:**

- **link_renderable_class**: The class used to render link items.
- **separator_renderable_class**: The class used to render separators.
- **button_renderable_class**: The class used to render button-style links.

**Constructor parameters:**

- **request**: The current Django request object.
- **cradmin_instance**: Optional Cradmin instance associated with the menu.

**Key methods:**

- ``iter_renderables()``: Returns an iterator over the menu items.
- ``get_link_renderable_class()``: Returns the class used for link renderables; raises an error if not set.
- ``get_separator_renderable_class()``: Returns the class used for separators.

Customization
-------------

To create a fully custom menu, you can subclass :class:`AbstractMenuRenderable` and override the template used for rendering by implementing the method :meth:`django_cradmin.renderable.AbstractRenderable.get_template_name`. This allows you to write your own HTML structure while still leveraging the Cradmin menu system's renderable items and CSS conventions.

BEM CSS Conventions
-------------------

All menu renderables use BEM (Block Element Modifier) naming conventions for CSS classes. The parent BEM block can be customized per renderable, and elements and modifiers are generated accordingly. This approach facilitates consistent styling and easy theming of menus.

Settings
--------

- **DJANGO_CRADMIN_DEFAULT_EXPANDABLE_MENU_CLASS**  
  The dotted Python path to the default expandable menu renderable class used by ``get_default_expandable_menu_renderable()``.

Templates
---------

The menu system uses several Django templates for rendering different menu items:

- ``django_cradmin/crmenu/menuitem/link.django.html``  
  Template for standard link items.

- ``django_cradmin/crmenu/menuitem/expandable-menu-item.django.html``  
  Template for expandable menu items.

- ``django_cradmin/crmenu/menuitem/expandable-menu-separator.django.html``  
  Template for separators in expandable menus.

- ``django_cradmin/crmenu/menuitem/menutoggle.django.html``  
  Template for the menu toggle button.

These templates can be overridden in your project to customize the HTML output.

Summary
-------

The Cradmin menu system provides a structured and extensible framework for building navigation menus with consistent styling and behavior. By using the provided renderable classes and templates, you can quickly assemble menus that integrate seamlessly with Django Cradmin applications, while retaining the flexibility to customize appearance and functionality as needed.