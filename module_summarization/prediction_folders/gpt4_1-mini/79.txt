GILDAS CLASS File Reader
=======================

This module provides functionality to read GILDAS CLASS files and convert them into `pyspeckit.spectrum.ObsBlock` objects for further analysis.

Overview
--------

GILDAS CLASS files are a standard format used in radio astronomy for storing spectral data. This module implements a reader that parses these files, handling different file types and versions, and extracts observational metadata and spectral data.

Key Features
------------

- Supports multiple CLASS file types and versions, including IEEE and VAX formats.
- Parses header sections such as USER CODE, COMMENT, GENERAL, POSITION, SPECTRO, BASELINE, HISTORY, and others.
- Handles variable-length records and different data encodings.
- Provides timing decorators to measure and log the time taken to read files.
- Uses Astropy and NumPy for efficient data handling and unit management.
- Includes compatibility with both Python 2 and 3 via the `six` library.

Constants and Dictionaries
--------------------------

- `filetype_dict`  
  Maps CLASS file type codes (e.g., '1A  ', '2A  ', '9A  ') to descriptive strings indicating the file format and byte order.

- `fileversion_dict`  
  Maps file type codes to version identifiers (e.g., 'v1', 'v2').

- `record_lengths`  
  Defines the length in bytes of records for different file versions.

- `header_id_numbers`  
  Maps header ID numbers to their corresponding section names, such as 'USER CODE', 'COMMENT', 'GENERAL', etc.

- `header_id_lengths`  
  Specifies the expected lengths of certain header sections.

Data Structures
---------------

- `keys_lengths`  
  A dictionary defining the structure of various header sections. Each entry lists tuples of the form `(field_name, count, data_type)`, describing the fields present in sections like 'GENERAL', 'COMMENT', and others.

Functions
---------

- `print_timing(func)`  
  A decorator that logs the execution time of the decorated function. Useful for monitoring the performance of file reading operations.

- `ensure_bytes(string)`  
  Ensures that a given string is returned as a byte string, compatible with both Python 2 and 3.

Usage
-----

The module is intended to be used as part of the `pyspeckit` package to read CLASS files and convert them into `ObsBlock` objects for spectral analysis. It handles the low-level details of file parsing, allowing users to focus on data interpretation.

References
----------

- CLASS file format specification:  
  http://iram.fr/IRAMFR/GILDAS/doc/html/class-html/node58.html

Dependencies
------------

- Python 2 and 3 compatibility via `six`
- `numpy` and `astropy` for numerical and FITS file handling
- `pyspeckit` for spectral data structures
- Optional: `astropy.utils.console.ProgressBar` for progress display during file reading

Notes
-----

- Some header sections and private extensions (e.g., GAUSSFIT, BEAMSWITCH) are recognized but may require additional handling.
- The module includes placeholders and comments indicating areas for future enhancement, such as replacing timing prints with progress bars.

This module is a critical component for astronomers working with CLASS spectral data, providing robust and efficient file reading capabilities integrated with the `pyspeckit` analysis framework.