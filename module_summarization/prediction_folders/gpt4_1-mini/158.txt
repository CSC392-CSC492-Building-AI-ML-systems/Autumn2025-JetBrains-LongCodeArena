Migrating to nextcord
=====================

nextcord is a modern, easy to use, feature-rich, and async-ready API wrapper for Discord written in Python. If you are migrating your project from other Discord libraries to nextcord, this guide will help you understand the key changes and how to adapt your code.

Key Changes and Migration Notes
-------------------------------

1. **Library Import Paths**

   The import paths have changed to reflect the new library structure. For example, classes and utilities are now imported from `nextcord` or its submodules.

2. **Widget Support**

   nextcord provides support for Discord Guild Widgets through the following classes:

   - `WidgetChannel`
   - `WidgetMember`
   - `Widget`

   These classes represent partial data about the guild's widget, including channels, members, and the widget itself.

3. **WidgetChannel**

   Represents a partial widget channel with the following attributes:

   - `id: int` — The channel's ID.
   - `name: str` — The channel's name.
   - `position: int` — The channel's position.

   It supports operations such as equality checks, hashing, and string conversion (returns the channel's name). It also provides:

   - `mention` property: Returns a string to mention the channel (`<#id>`).
   - `created_at` property: Returns the channel's creation time as a `datetime.datetime` object in UTC.

4. **WidgetMember**

   Represents a partial member of the widget's guild with attributes such as:

   - `id: int` — The member's ID.
   - `name: str` — The member's username.
   - `discriminator: str` — The member's discriminator.
   - `bot: bool` — Whether the member is a bot.
   - `status: Status` — The member's current status.
   - `nick: Optional[str]` — The member's nickname.
   - `avatar: Optional[str]` — The member's avatar hash.
   - `activity: Optional[Union[BaseActivity, Spotify]]` — The member's current activity.
   - `deafened: Optional[bool]` — Whether the member is deafened.
   - `muted: Optional[bool]` — Whether the member is muted.
   - `suppress: Optional[bool]` — Whether the member is suppressed.
   - `connected_channel: Optional[WidgetChannel]` — The voice channel the member is connected to.

   It supports equality checks, hashing, and string conversion (returns `name#discriminator`). The `display_name` property returns the nickname if set, otherwise the username.

5. **Widget**

   Represents a guild widget with attributes:

   - `id: int` — The guild's ID.
   - `name: str` — The guild's name.
   - `channels: List[WidgetChannel]` — The accessible voice channels in the guild.
   - `members: List[WidgetMember]` — The online members in the guild (offline members do not appear).

   It supports equality checks and string conversion (returns the widget's JSON URL).

6. **Activity and Status Enums**

   nextcord uses enums such as `Status` and classes like `BaseActivity` and `Spotify` to represent user status and activities. These are used in `WidgetMember` and other user-related classes.

7. **Type Hinting and Async Support**

   nextcord makes extensive use of type hinting for better developer experience and supports asynchronous programming paradigms.

8. **Utility Functions**

   Utility functions such as `snowflake_time` are used to convert Discord snowflake IDs to timestamps.

Migration Tips
--------------

- Replace imports from your previous Discord library with the appropriate nextcord imports.
- Update your code to use the new classes and their attributes as described above.
- Review your usage of widgets and member activities to align with nextcord's implementation.
- Take advantage of nextcord's async support and type hinting for improved code quality.

Example: Accessing Widget Members and Channels

```python
widget = await guild.widget()
print(f"Guild Name: {widget.name}")
for channel in widget.channels:
    print(f"Channel: {channel.name} (ID: {channel.id})")
for member in widget.members:
    print(f"Member: {member.display_name} - Status: {member.status}")
```

By following this guide and referring to the nextcord documentation, you can smoothly migrate your Discord bot or application to nextcord and leverage its powerful features.