w_init — Initialize a new WEST simulation
==========================================

Synopsis
--------

.. code-block:: console

    w_init [OPTIONS]

Description
-----------

The `w_init` command initializes a new WEST simulation by creating the WEST HDF5 file and preparing the first iteration's segments.

Initial states for the simulation are generated from one or more "basis states." These basis states can be specified in one of two ways:

- By providing a file containing basis states using the `--bstates-from` (or `--bstate-file`) option.
- By specifying one or more basis states directly on the command line using the `--bstate` option.

If neither `--bstates-from` nor at least one `--bstate` argument is provided, a default basis state with probability one, identified by state ID zero and label "basis," will be created. A warning will be issued in this case to remind you of this default behavior.

For (non-equilibrium) steady-state simulations, target states can be specified similarly:

- By providing a file containing target states using the `--tstates-from` (or `--tstate-file`) option.
- By specifying one or more target states directly on the command line using the `--tstate` option.

If neither `--tstates-from` nor at least one `--tstate` argument is provided, the simulation will be run as an equilibrium simulation without any sinks.

Start states can also be specified using:

- A file with start states via `--sstates-from` (or `--sstate-file`).
- One or more start states directly via `--sstate`.

Options
-------

- `--force`  
  Overwrite any existing simulation data.

- `--bstates-from BSTATE_FILE`, `--bstate-file BSTATE_FILE`  
  Read basis state names, probabilities, and optionally data references from the specified file.

- `--bstate 'label,probability[,auxref]'`  
  Add a basis state with the given label, probability, and optional auxiliary reference. This option can be specified multiple times to add multiple basis states.

- `--tstates-from TSTATE_FILE`, `--tstate-file TSTATE_FILE`  
  Read target state names and representative progress coordinates from the specified file. WESTPA converts the entire bin containing the representative progress coordinate of a target state into a recycling sink.

- `--tstate 'label,pcoord0[,pcoord1[,...]]'`  
  Add a target state with the given label and progress coordinates. This option can be specified multiple times.

- `--sstates-from SSTATE_FILE`, `--sstate-file SSTATE_FILE`  
  Read start state names, probabilities, and optionally data references from the specified file.

- `--sstate 'label,probability[,auxref]'`  
  Add a start state with the given label, probability, and optional auxiliary reference. This option can be specified multiple times.

- `--segs-per-state N`  
  Initialize N segments from each basis state. Default is 1.

- `--no-we`, `--shotgun`  
  Do not run the weighted ensemble bin/split/merge algorithm on newly-created segments.

Additional Options
------------------

The command also accepts options related to the work manager environment, which can be viewed by running `w_init --help`.

Usage Notes
-----------

- Basis states define the initial distribution of probability in the simulation.
- Target states define recycling sinks for steady-state simulations.
- Start states can be used to specify initial states for the simulation, similar to basis states.
- The number of segments initialized per basis state can be controlled with `--segs-per-state`.
- The weighted ensemble algorithm can be disabled on initialization with `--no-we` or `--shotgun`.

Examples
--------

Initialize a simulation with basis states from a file and 5 segments per state:

.. code-block:: console

    w_init --bstates-from basis_states.txt --segs-per-state 5

Initialize a simulation with two basis states specified on the command line:

.. code-block:: console

    w_init --bstate "stateA,0.6" --bstate "stateB,0.4"

Initialize a steady-state simulation with target states from a file:

.. code-block:: console

    w_init --bstates-from basis_states.txt --tstates-from target_states.txt

Initialize a simulation without running the weighted ensemble algorithm on the initial segments:

.. code-block:: console

    w_init --bstates-from basis_states.txt --no-we

See Also
--------

- `w_run` — Run a WEST simulation.
- `w_ipa` — Perform initial path analysis.
- WESTPA documentation for more details on simulation setup and configuration.

Logging
-------

The `w_init` command logs its progress and any warnings or errors to the `w_init` logger.