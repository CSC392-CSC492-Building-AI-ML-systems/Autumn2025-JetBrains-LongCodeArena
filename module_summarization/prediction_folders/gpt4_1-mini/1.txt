Using Custom Attributes
=======================

ftrack allows you to extend the metadata of entities by adding custom attributes. Custom attributes enable you to store additional information specific to your workflow or project needs directly on ftrack entities such as tasks, assets, or shots.

Defining Custom Attributes
--------------------------

Custom attributes can be defined through the ftrack web interface or via the API. They can be of various types including text, number, date, list, or boolean, allowing you to tailor the data stored to your requirements.

Once defined, custom attributes become part of the entity schema and can be accessed and manipulated like standard attributes.

Accessing Custom Attributes
---------------------------

When using the ftrack API, custom attributes are accessible as properties on entity objects. For example, if you have added a custom attribute named `review_status` to a Task entity, you can access it as follows:

```python
task = session.query('Task where id is "some-id"').one()
status = task['custom_attributes']['review_status']
```

You can also set or update the value of a custom attribute:

```python
task['custom_attributes']['review_status'] = 'Approved'
session.commit()
```

Note that custom attributes are stored within the `custom_attributes` dictionary on the entity.

Creating and Managing Custom Attributes via API
-----------------------------------------------

While the ftrack API primarily supports interaction with existing custom attributes, you can create and manage custom attribute definitions using the API by interacting with the schema entities. This allows for automation of attribute creation and modification.

Example of creating a new custom attribute:

```python
from ftrack_api.entity.base import CustomAttribute

# Create a new custom attribute definition
new_attribute = session.create('CustomAttribute', {
    'name': 'priority_level',
    'value_type': 'string',
    'object_type': 'Task',
    'label': 'Priority Level',
    'default_value': 'Normal'
})

session.commit()
```

After creation, the new custom attribute will be available on all Task entities.

Best Practices
--------------

- Use clear and descriptive names for custom attributes to ensure they are easily understood by all users.
- When possible, define custom attributes with appropriate value types and constraints to maintain data integrity.
- Regularly review and clean up unused custom attributes to keep your schema manageable.
- Use the API to automate the creation and management of custom attributes in large or complex projects.

Summary
-------

Custom attributes provide a flexible way to extend ftrack entities with additional metadata tailored to your specific needs. By leveraging the ftrack API, you can access, modify, and automate the management of these attributes, enhancing your project tracking and workflow capabilities.