w_ipa â€” WESTPA Interactive Python Analysis
===========================================

Overview
--------
`w_ipa` (WESTPA Interactive Python Analysis) is a stateful command-line tool designed for interactive analysis of WESTPA simulation data. It allows users to explore trajectories, weights, progress coordinates, and other relevant information from WESTPA simulations in an intuitive and flexible manner.

Key Features
------------
- Access and manipulate data from the current analysis scheme and iteration.
- Inspect walkers, weights, progress coordinates, states, bins, and auxiliary data.
- Trace the history of individual trajectory segments.
- Support for multiple analysis schemes with easy switching.
- Progress indicators and plotting capabilities (including terminal plotting).
- Configurable runtime options for analysis control and debugging.

Usage
-----
When you start `w_ipa`, it initializes with the first analysis scheme defined in your `west.cfg` configuration file and sets the iteration to 1 by default. You can interact with the tool through its properties and methods, all accessed via the `w` or `west` object.

Basic Interaction
-----------------
- **View or set the current iteration:**

  ```python
  w.iteration        # Get current iteration
  w.iteration = 100  # Set iteration to 100
  ```

- **List and change analysis schemes:**

  ```python
  w.list_schemes     # List available analysis schemes
  w.scheme = 'scheme_name'  # Switch to a different scheme
  ```

- **View states and bin labels of the current scheme:**

  ```python
  w.states           # List of states
  w.bin_labels       # List of bin labels
  ```

- **Access data for the current iteration:**

  ```python
  w.current          # Object containing walkers, summary, states, seg_id, weights, parents, kinavg, pcoord, bins, populations, auxdata (if available)
  ```

- **Trace a trajectory segment:**

  ```python
  trace_data = w.trace(seg_id)
  ```

  This returns a dictionary with detailed information about the segment's history. Since tracing can be computationally expensive, it is recommended to store the result for repeated use.

Runtime Options
---------------
`w_ipa` supports several command-line options to customize its behavior:

- `--analysis-only`, `-ao`  
  Run the analysis and return to the terminal without launching the interactive session.

- `--reanalyze`, `-ra`  
  Delete existing analysis files and reanalyze from scratch.

- `--ignore-hash`, `-ih`  
  Ignore stored hash values and do not regenerate files based on argument changes.

- `--debug`, `-d`  
  Enable debug output primarily intended for development purposes.

- `--terminal`, `-t`  
  Enable plotting output directly in the terminal.

Additional options related to progress indicators and data reading are also available.

Hashing and Caching
-------------------
`w_ipa` uses a hashing mechanism to uniquely identify analysis arguments and determine whether files need to be regenerated. This helps avoid redundant computations and speeds up repeated analyses. The hash is computed based on the command-line arguments and other relevant parameters.

Plotting Interface
------------------
By default, `w_ipa` uses the `matplotlib` interface for plotting. However, terminal-based plotting can be enabled via the `--terminal` option.

Getting Help
------------
You can use Python's built-in `help()` function on any property or method of the `w` object to get detailed information about its usage.

Example:

```python
help(w.trace)
```

Summary
-------
`w_ipa` provides a powerful and flexible environment for interactive analysis of WESTPA simulation data. Its stateful design, combined with comprehensive access to simulation details and customizable runtime options, makes it an essential tool for researchers working with weighted ensemble simulations.

Happy analyzing!