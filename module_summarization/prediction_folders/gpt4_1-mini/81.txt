====================
SimpleFitter wrapper
====================

Adds a variable height (background) component to any model.

Module API
^^^^^^^^^^

.. autoclass:: SimpleFitter
    :members:
    :undoc-members:
    :show-inheritance:

.. autofunction:: vheightmodel

=============================
Generic SpectralModel wrapper
=============================

.. moduleauthor:: Adam Ginsburg <adam.g.ginsburg@gmail.com>

Module API
^^^^^^^^^^

.. autoclass:: SpectralModel
    :members:
    :undoc-members:
    :show-inheritance:

Class Summary
-------------

SimpleFitter
~~~~~~~~~~~~

A basic wrapper class that provides a framework for fitting models with an optional variable height (background) component.

Methods:

- __init__(): Initialize the SimpleFitter instance.
- moments(*args, **kwargs): Get the spectral moments from the moments package.

vheightmodel(zeroheightmodel)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

A wrapper function to add a variable height parameter to any zero-height model function.

Parameters:
- zeroheightmodel (function): The original model function without a height parameter.

Returns:
- function: A new model function with an added height parameter as the first parameter.

SpectralModel
~~~~~~~~~~~~~

A comprehensive wrapper class for spectral models. It supports multi-component models, annotations, integrals, and individual components. It allows detailed configuration of parameter names, limits, units, and annotations.

Initialization Parameters:

- modelfunc (function): The model function to be fitted. It should accept an X-axis (spectroscopic axis) and model parameters, returning an array of the same shape as the X-axis.
- npars (int): Number of parameters required by the model.
- shortvarnames (tuple, optional): TeX names of the variables for annotation. Default is ("A","\\Delta x","\\sigma").
- fitunit (str, optional): Units to convert the X-axis to before fitting.
- centroid_par (optional): Name of the parameter representing the profile centroid.
- fwhm_func (optional): Function to calculate the full width at half maximum (FWHM).
- fwhm_pars (optional): Parameters for the FWHM function.
- integral_func (optional): Analytic integral function for the model.
- use_lmfit (bool, optional): Whether to use lmfit instead of mpfit for fitting.
- guess_types (tuple, optional): Types of parameters for initial guesses. Valid values are 'amplitude', 'center', and 'width'.
- **kwargs: Additional keyword arguments for parameter information and fitting options.

Key Features:

- Supports parameter naming, limits, fixing, tying, and error specification.
- Allows fitting in specified units.
- Provides methods for copying and deep copying model instances.
- Integrates with mpfit or lmfit for fitting.
- Validates guess types for initial parameter estimation.

Usage Example
-------------

.. code-block:: python

    from yourmodule import SpectralModel

    def gaussian(x, amplitude, center, width):
        return amplitude * np.exp(-(x - center)**2 / (2 * width**2))

    model = SpectralModel(gaussian, npars=3)
    best_fit_params, model_func, param_errors, chi2 = model.fit(data_x, data_y)

Notes
-----

- The module requires Python 2.7+ or the 'ordereddict' module for earlier versions.
- The module uses logging for debug information.
- The module is part of the pyspeckit package and integrates with its fitting and spectral analysis tools.

Contact
-------

For questions or contributions, contact Adam Ginsburg at <adam.g.ginsburg@gmail.com>.