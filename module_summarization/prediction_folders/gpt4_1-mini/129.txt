Table Data
==========

The table module provides classes and utilities for handling and verifying table data, ensuring data integrity and consistency through a robust verification framework.

Verification Framework
----------------------

The verification framework is designed to check the validity of table data and related objects, providing mechanisms to report and optionally fix detected issues.

### Verification Options

Verification behavior can be controlled using the following options:

- **ignore**: Do not report or fix any issues.
- **warn**: Issue warnings for detected problems.
- **exception**: Raise exceptions on verification failures.
- **fix**: Attempt to fix fixable issues and raise exceptions for unfixable ones.
- **silentfix**: Attempt to fix fixable issues silently without reporting.
- **fix+ignore**, **fix+warn**, **fix+exception**: Combine fixing with different reporting behaviors.
- **silentfix+ignore**, **silentfix+warn**, **silentfix+exception**: Combine silent fixing with different reporting behaviors.

### Verification Classes

#### VerifyError

An exception class raised when verification fails and the chosen option is to raise exceptions.

#### VerifyWarning

A warning class used to issue warnings during verification.

#### _Verify

A mixin class providing shared verification methods for table-related classes.

- **run_option(option, err_text, fix_text, fix, fixable)**  
  Executes verification according to the specified option. It can fix issues if possible and report or raise errors accordingly.

- **verify(option='warn')**  
  Runs verification on the instance, applying the specified option. It processes errors, attempts fixes if requested, and reports or raises errors based on the option.

### Error List Handling

#### _ErrList

A specialized list class to hold verification errors. It supports nested error messages corresponding to different levels of the table data structure.

- **iter_lines(filter=None, shift=0)**  
  Iterates over the error messages, yielding them with appropriate indentation to reflect the nested structure.

- **__str__()**  
  Returns a string representation of all error messages.

Notifier Mixin
--------------

The `NotifierMixin` class provides a mechanism for objects to register listeners and notify them of changes. This is useful for internal communication between table-related objects.

- **_add_listener(listener)**  
  Registers a listener with a weak reference to avoid memory leaks.

- **_notify(change_type, *args, **kwargs)**  
  Notifies all registered listeners of a change by calling their corresponding update methods.

Usage Example
-------------

```python
class Widget(NotifierMixin):
    state = 1
    def __init__(self, name):
        self.name = name
    def update_state(self):
        self.state += 1
```

This example demonstrates how a class can inherit from `NotifierMixin` to support listener registration and notification.

Summary
-------

The table module's verification system and notifier mixin provide a comprehensive infrastructure for maintaining data integrity and facilitating communication between components managing table data. This ensures that table data is reliable and that changes propagate correctly through dependent objects.