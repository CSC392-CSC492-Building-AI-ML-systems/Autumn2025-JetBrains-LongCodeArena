Publishing for Web Review
=========================

The ftrack API provides a robust mechanism for publishing content for web review, enabling seamless collaboration and feedback through web-based review sessions. This documentation outlines the key concepts and usage related to publishing for web review using the ftrack API.

Session and Authentication
--------------------------

Interaction with the ftrack server is managed through the `Session` class, which represents an isolated session for communication with the server. To authenticate requests, the `SessionAuthentication` class attaches the necessary API key and user information to HTTP requests.

When creating a `Session`, you must specify the server URL, API key, and API user. These can be provided directly or through environment variables:

- `FTRACK_SERVER` for the server URL.
- `FTRACK_API_KEY` for the API key.
- `FTRACK_API_USER` for the API user.

The session supports automatic population of entity attributes, plugin management, caching, and event hub connectivity, all of which facilitate efficient and extensible publishing workflows.

Publishing Workflow
-------------------

Publishing for web review typically involves the following steps:

1. **Establish a Session**  
   Create a `Session` instance to connect to the ftrack server with appropriate credentials.

2. **Prepare Content for Publishing**  
   Content such as media files, reviewable assets, or metadata should be prepared and associated with the relevant ftrack entities (e.g., tasks, versions).

3. **Use ftrack API Entities and Operations**  
   Utilize the API’s entity and operation interfaces to create or update reviewable items. The session’s caching and operation recording features help manage these changes efficiently.

4. **Publish and Notify**  
   Once content is ready, publish it to the server. The event hub can be used to notify subscribers of new review content or updates, enabling real-time collaboration.

Event Hub and Plugins
---------------------

The session optionally connects to an embedded event hub, which allows publishing and subscribing to events related to review sessions. This connection can be enabled automatically or managed manually.

Plugins can extend the publishing process by hooking into events or providing additional functionality. Plugin paths and arguments can be specified during session initialization to customize behavior.

Caching and Performance
-----------------------

To optimize performance, the session supports caching of schema and entity data. Schema caching can be enabled by specifying a cache path or environment variable, reducing overhead during repeated operations.

A layered cache system ensures that a memory cache is always present, improving access speed and consistency.

Summary
-------

Publishing for web review with the ftrack API involves creating a session, preparing and associating content, and leveraging the API’s entity, operation, event, and plugin systems to manage and distribute reviewable assets efficiently. Proper use of authentication, caching, and event handling ensures a smooth and scalable publishing workflow suitable for collaborative web-based review environments.