Resources
=========

Support for plugins that provide access to resources such as schemas.

Classes
-------

DirectoryResourceMapping
~~~~~~~~~~~~~~~~~~~~~~~~

A resource mapping that reads resource content from a directory or directory tree.

See :class:`~asdf_standard.resource.DirectoryResourceMapping` for details.

ResourceMappingProxy
~~~~~~~~~~~~~~~~~~~~

Wrapper around a resource mapping that carries additional information on the package that provided the mapping.

**Methods and Properties:**

- `maybe_wrap(delegate)` (class method)  
  Wraps the given delegate mapping in a ResourceMappingProxy if it is not already wrapped.

- `__init__(delegate, package_name=None, package_version=None)`  
  Initialize the proxy with a delegate mapping and optional package name and version.

- `__getitem__(uri)`  
  Retrieve the resource content for the given URI from the delegate mapping.

- `__len__()`  
  Return the number of resources in the delegate mapping.

- `__iter__()`  
  Iterate over the URIs in the delegate mapping.

- `delegate` (property)  
  Returns the wrapped mapping instance.

- `package_name` (property)  
  Returns the name of the Python package that provided this mapping, or `None` if added at runtime.

- `package_version` (property)  
  Returns the version of the Python package that provided this mapping, or `None` if added at runtime.

- `class_name` (property)  
  Returns the fully qualified class name of the mapping.

- `__eq__(other)`  
  Equality comparison based on the delegate mapping identity.

- `__hash__()`  
  Hash based on the identity of the delegate mapping.

- `__repr__()`  
  String representation including class name, package info, and number of resources.

ResourceManager
~~~~~~~~~~~~~~~

Wraps multiple resource mappings into a single interface with friendlier error handling.

**Parameters:**

- `resource_mappings` (iterable of collections.abc.Mapping)  
  Underlying resource mappings. In case of duplicate URIs, the first mapping takes precedence.

**Methods:**

- `__getitem__(uri)`  
  Retrieve the resource content for the given URI from the underlying mappings. Raises `KeyError` if unavailable.

- `__len__()`  
  Return the total number of unique URIs across all mappings.

- `__iter__()`  
  Iterate over all unique URIs.

- `__contains__(uri)`  
  Check if a URI is available in any of the underlying mappings.

- `__repr__()`  
  String representation showing the number of resources managed.

JsonschemaResourceMapping
~~~~~~~~~~~~~~~~~~~~~~~~~

Resource mapping that fetches metaschemas from the `jsonschema` package.

**Methods:**

- `__getitem__(uri)`  
  Returns the content of the metaschema corresponding to the given URI.

- `__len__()`  
  Returns the number of available metaschemas.

- `__iter__()`  
  Iterate over the URIs of available metaschemas.

- `__repr__()`  
  String representation of the mapping.

Functions
---------

get_json_schema_resource_mappings()
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Returns a list of resource mappings that provide JSON Schema metaschemas.

**Returns:**

- List containing an instance of `JsonschemaResourceMapping`.

Constants
---------

_JSONSCHEMA_URI_TO_FILENAME
~~~~~~~~~~~~~~~~~~~~~~~~~~~

Mapping of JSON Schema URIs to their corresponding filenames within the `jsonschema` package.

---

This module provides a framework for managing resource mappings, including directory-based resources, package-provided resources, and JSON Schema metaschemas, with support for combining multiple mappings and tracking their origins.