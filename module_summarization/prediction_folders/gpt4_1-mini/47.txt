contingency_tables module
==========================

Methods for Analyzing Two-Way Contingency Tables
------------------------------------------------

This module provides tools for analyzing two-way contingency tables, which are frequency tables for observations cross-classified with respect to two categorical variables.

Main Classes
------------

- **Table**  
  Implements methods applicable to any two-way contingency table.  
  Key features include:
  - Construction from raw data or from an existing table.
  - Testing for nominal association using chi-square tests.
  - Testing for ordinal association using linear-by-linear association tests.

- **SquareTable**  
  Implements methods specific to square two-way contingency tables (where the number of rows equals the number of columns).

- **Table2x2**  
  Implements methods specific to 2x2 contingency tables.

- **StratifiedTable**  
  Implements methods for collections of 2x2 contingency tables, useful for stratified analysis.

Functions
---------

- **McNemar's test**  
  Conducts McNemar's test for paired nominal data.

- **Cochran's Q test**  
  Conducts Cochran's Q test for related samples.

Utility Functions
-----------------

- **_make_df_square(table)**  
  Reindexes a pandas DataFrame to make it square by ensuring the row and column indices contain the same values in the same order. This is useful for preparing data for analyses that require square tables.

Usage Notes
-----------

- The inference procedures assume that the observed units are independent and identically distributed.
- Some tests depend on the sampling model and the nature of the data.
- When zero counts are present in the table, the `Table` class can add 0.5 to all cells to avoid issues with certain statistical tests.

Example
-------

```python
import pandas as pd
from statsmodels.stats.contingency_tables import Table

# Create a contingency table from raw data
data = pd.DataFrame({
    'Group': ['A', 'A', 'B', 'B', 'A', 'B'],
    'Outcome': ['Success', 'Failure', 'Success', 'Failure', 'Success', 'Failure']
})

table = Table.from_data(data)

# Perform a test of nominal association
result = table.test_nominal_association()
print(f"Chi-square statistic: {result.statistic}")
print(f"Degrees of freedom: {result.df}")
print(f"P-value: {result.pvalue}")
```

References
----------

- Definitions of residuals and related concepts:  
  https://onlinecourses.science.psu.edu/stat504/node/86

See Also
--------

- `statsmodels.graphics.mosaicplot.mosaic` — for graphical visualization of contingency tables.
- `scipy.stats.chi2_contingency` — for chi-square tests of independence.

---

This module is part of the `statsmodels` library and provides comprehensive tools for the statistical analysis of contingency tables, supporting both nominal and ordinal data types.