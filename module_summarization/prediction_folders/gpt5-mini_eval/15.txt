Ploterr — plot expectation and confidence‑interval traces
=======================================================

Synopsis
--------
ploterr <subcommand> [OPTIONS] [ARGS...]

Description
-----------
Ploterr generates plots of expected values together with confidence‑interval
bounds (lower and upper) as a function of WESTPA iterations. Data are read
from HDF5 files. The command supports multiple subcommands; the most
commonly used is the "generic" subcommand for plotting arbitrary HDF5
datasets.

The plot shows three traces:
- expected (black)
- ci_lbound (gray)
- ci_ubound (gray)

By default plots are produced with Matplotlib and written to a file whose
format is inferred from the filename extension. If no X display is
available or the --terminal / -t option is given, a text (terminal)
interface is selected instead.

Common plot options
-------------------
The following options are available to all Ploterr subcommands:

--xscale {linear,log,symlog}
    Use linear, log, or symlog scaling for the x axis. Default: linear.

--yscale {linear,log,symlog}
    Use linear, log, or symlog scaling for the y axis. Default: linear.

--xrange XMIN,XMAX
    Restrict the x axis to the inclusive range XMIN,XMAX. Format must be
    "xmin,xmax". By default the range is determined from the input data.

--yrange YMIN,YMAX
    Restrict the y axis to the inclusive range YMIN,YMAX. Format must be
    "ymin,ymax". By default the range is determined from the input data.

--xlabel XLABEL
    Use XLABEL for the x‑axis label. Default: "Iteration" (or varies by
    subcommand).

--ylabel YLABEL
    Use YLABEL for the y‑axis label. Default varies by subcommand.

--title TITLE
    Use TITLE for the plot title. Default varies by subcommand.

--terminal, -t
    Force the terminal/text interface (suppress Matplotlib even if a
    display is available).

generic subcommand
------------------
Subcommand name: generic
Help: arbitrary HDF5 file and dataset

Purpose
    Plot generic expectation/CI data taken from an arbitrary HDF5 file and
    dataset. This is useful for plotting output from analysis tools that
    write expectation and CI traces into an HDF5 dataset or structured
    array.

Usage
    ploterr generic [OPTIONS] -o OUTPUT FILENAME/PATH[SLICE]

Options specific to this subcommand
    -o, --output OUTPUT
        Write the plot to OUTPUT (default: errbars.pdf). The file format
        is determined from the filename extension.

    dsspec (positional)
        The data specification, formatted as:
            FILENAME/PATH[SLICE]
        - FILENAME is the HDF5 file to read.
        - PATH is the HDF5 path to the dataset or structured array.
        - [SLICE], if provided, must be a NumPy‑style slice expression
          (including brackets) that selects a one‑dimensional vector.
        Example: kinavg.h5/rate_evolution[:,0,1]

Required data fields / format
    The plotted data must contain iteration indices and expectation /
    confidence‑interval values. The command expects the following fields
    to be present (either as fields of a structured 1‑D array or as
    separate datasets accessible at the given PATH/SLICE):

    - iter_start (array)
    - iter_stop (array)
    - expected (array)
    - ci_lbound (array)
    - ci_ubound (array)

    The selected dataset or slice must be one‑dimensional. Iteration
    points are taken from iter_stop (the code plots iter_stop - 1 on the
    x axis), and the expected and CI arrays provide the y values.

Behavior
--------
- If no output filename is given or plotting is disabled, no file is
  produced.
- Matplotlib is used to create and save the plot when a display is
  available and --terminal is not given. Otherwise a text interface is
  selected.
- Axis scales and ranges can be adjusted with the common plot options
  documented above.

Examples
--------
Plot a structured dataset into a PDF:
    ploterr generic -o expected_trace.pdf kinavg.h5/trace_group

Plot a slice of a multi‑dimensional dataset:
    ploterr generic kinavg.h5/rate_evolution[:,0,1] -o rate01.pdf

Force text output (no Matplotlib/graphics):
    ploterr generic --terminal kinavg.h5/trace_group

See also
--------
Use the xscale/yscale and xrange/yrange options to control axis scaling
and displayed ranges. Use xlabel/ylabel/title to customize plot labels.