Unified renderable interface
============================

This module defines a small, unified interface for objects that can render themselves
using Django templates. It provides a base abstract renderable plus optional
mixins/helpers for consistent CSS class handling and BEM-style naming.

join_css_classes_list
---------------------
Join a list of CSS class names into a single string.

- Signature: join_css_classes_list(css_classes_list)
- Behavior: returns the classes joined with two spaces: '  '.join(css_classes_list)

AbstractRenderable
------------------
Base abstract class encapsulating template rendering.

Attributes
- template_name: default None. Override in subclasses or override get_template_names().

Methods
- get_template_names()
  - Returns template_name by default.
  - Raises NotImplementedError if template_name is not set.
- get_context_data(request=None)
  - Returns the default context: {'me': self}
  - Override to add more context keys. The request may be passed for context construction.
- render(request=None, extra_context_data=None)
  - Renders the template(s) returned by get_template_names() with a context
    composed by merging extra_context_data and get_context_data(request).
  - Uses django.template.loader.render_to_string(..., request=request) to render.

Usage example
- Subclass AbstractRenderable, set template_name (or override get_template_names),
  optionally override get_context_data, and call render(request=...) to get rendered HTML.

AbstractRenderableWithCss
-------------------------
Extension providing a unified API for CSS classes.

Methods
- get_base_css_classes_list()
  - Default implementation returns []
  - Intended for base/default classes.
- get_extra_css_classes_list()
  - Default implementation returns []
  - Intended for additional classes (e.g. supplied at construction).
- get_css_classes_list()
  - Returns a list of css classes by extending get_base_css_classes_list() with
    get_extra_css_classes_list(). Override to return a custom list.
- get_test_css_class_suffixes_list()
  - Returns [] by default.
  - Suffixes returned here are filtered through the template tag
    cradmin_tags.cradmin_test_css_class(...) when test CSS classes are enabled.
- css_classes (property)
  - Produces a single string of CSS classes by:
    - collecting get_css_classes_list()
    - if crsettings.get_setting('DJANGO_CRADMIN_INCLUDE_TEST_CSS_CLASSES', False)
      then appending cradmin_tags.cradmin_test_css_class(suffix) for each suffix
      from get_test_css_class_suffixes_list()
    - joining with join_css_classes_list()
- get_css_classes_string()
  - Deprecated: emits a DeprecationWarning and returns the css_classes property.

Notes
- Prefer overriding get_css_classes_list() rather than get_base/extra methods in new code.
- Test CSS classes are conditional based on the DJANGO_CRADMIN_INCLUDE_TEST_CSS_CLASSES setting.

AbstractBemRenderable
---------------------
Base for renderables that use BEM (Block Element Modifier) naming for CSS classes.

Constructor
- __init__(bem_block=None, bem_element=None, bem_variant_list=None, extra_css_classes_list=None)
  - bem_block (str): BEM block name. Mutually exclusive with bem_element.
  - bem_element (str): BEM element name. Mutually exclusive with bem_block.
    - If provided it must contain '__' (element separator).
  - bem_variant_list (list): list of variant names (modifiers). Provide only the
    modifier part (what comes after the BEM modifier separator).
  - extra_css_classes_list (list): additional CSS classes to include.

Behavior and attributes
- Validates that bem_block and bem_element are not both supplied.
- Validates bem_element contains '__' when supplied.
- Stores:
  - self._bem_block
  - self._bem_element
  - self._bem_variant_list (defaults to [])
  - self._extra_css_classes_list (defaults to [])
- Methods/properties:
  - get_test_css_class_suffixes_list(): returns [] by default (same purpose as in
    AbstractRenderableWithCss).
  - bem_block_or_element: returns get_bem_block() or, if falsy, get_bem_element().
  - get_bem_block(): returns the stored _bem_block.
  - get_bem_element(): returns the stored _bem_element.

Notes
- This class provides the basic storage and validation for BEM-related values.
  Subclasses are expected to produce final CSS class lists (block/element plus
  modifiers and any extra classes) when integrating with rendering/CSS APIs.

Deprecations and compatibility
------------------------------
- get_css_classes_string() is deprecated in favor of the css_classes property.
- Historical get_base_css_classes_list / get_extra_css_classes_list usage may
  be discouraged in favor of overriding get_css_classes_list() directly.

Example usages
--------------
Minimal renderable:

.. code-block:: python

   class MyRenderable(AbstractRenderable):
       template_name = 'my/template.html'
       def get_context_data(self, request=None):
           data = super().get_context_data(request=request)
           data.update({'foo': 'bar'})
           return data

CSS-using renderable:

.. code-block:: python

   class ButtonRenderable(AbstractRenderableWithCss):
       def get_base_css_classes_list(self):
           return ['button', 'button--primary']
       def get_extra_css_classes_list(self):
           return ['js-button']

BEM renderable (conceptual):

.. code-block:: python

   r = AbstractBemRenderable(bem_block='item', bem_variant_list=['selected'])
   # r stores bem block, variants and extra classes; subclass should build final
   # class names such as 'item item--selected' and expose them via get_css_classes_list()
