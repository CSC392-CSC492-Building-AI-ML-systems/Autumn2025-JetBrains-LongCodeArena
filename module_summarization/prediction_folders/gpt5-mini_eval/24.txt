w_init â€” Initialize a WEST simulation
====================================

Synopsis
--------
w_init [OPTIONS]

Initialize a new WEST simulation: create the WEST HDF5 file and prepare the first
iteration's segments.

Options
-------
--force
    Overwrite any existing simulation data.

--bstate-file, --bstates-from BSTATE_FILE
    Read basis states from BSTATE_FILE. Each line should define one basis
    state (see "Basis / start state format" below).

--bstate LABEL,PROBABILITY[,AUXREF]
    Add a basis state on the command line. This option may be repeated; states
    are appended in the order provided (after any states read from
    --bstate-file).

--tstate-file, --tstates-from TSTATE_FILE
    Read target states from TSTATE_FILE. Each line should define one target
    state (see "Target state format" below). WESTPA converts the representative
    progress coordinate of each target state into a recycling sink by turning
    the entire bin containing that coordinate into a sink.

--tstate LABEL,PCOORD0[,PCOORD1[,...]]
    Add a target state on the command line. This option may be repeated; states
    are appended in the order provided (after any states read from
    --tstate-file).

--sstate-file, --sstates-from SSTATE_FILE
    Read start states from SSTATE_FILE. Each line should define one start
    state (see "Basis / start state format" below).

--sstate LABEL,PROBABILITY[,AUXREF]
    Add a start state on the command line. This option may be repeated; states
    are appended in the order provided (after any states read from
    --sstate-file).

--segs-per-state N
    Initialize N segments from each basis state (default: 1).

--no-we, --shotgun
    Do not run the weighted-ensemble bin/split/merge algorithm on the newly
    created segments (i.e., initialize segments but do not perform WE
    resampling).

Other options
-------------
Standard WESTPA configuration options and work-manager options are accepted
and processed (these are added to the argument parser by WESTPA's runtime
configuration and work-manager modules).

Behavior and notes
------------------
- If no basis states are provided either by --bstate-file/--bstates-from or
  at least one --bstate on the command line, a default basis state of
  probability one with identifier 0 and label "basis" will be created (a
  warning is emitted to remind you of this behavior).
- If no target states are provided (neither --tstate-file/--tstates-from nor
  any --tstate), an equilibrium simulation is performed (no recycling sinks).
- When both a file and repeated option forms are used (e.g., --bstate-file and
  one or more --bstate), the items from the file are loaded first and
  command-line items are appended in the order given.
- Initialization runs under the configured work manager; state processing and
  HDF5 creation are performed on the master process.

Input file and argument formats
-------------------------------
Basis / start state format
    Each basis or start state is specified as a comma-separated line:

        label,probability[,auxref]

    - label : string identifier for the state
    - probability : floating-point initial probability for the state
    - auxref (optional) : auxiliary data reference (user-defined)

Target state format
    Each target state is specified as a comma-separated line:

        label,pcoord0[,pcoord1,...]

    - label : string identifier for the target state
    - pcoord0,pcoord1,... : representative progress-coordinate values (one or
      more). WESTPA converts the bin containing the representative progress
      coordinate into a recycling sink.

Examples
--------
Initialize with a single basis state from a file and two segments per state:

    w_init --bstate-file=my_bstates.txt --segs-per-state 2

Add basis states on the command line and initialize without WE resampling:

    w_init --bstate A,0.6 --bstate B,0.4 --no-we

Create start states, specify a target state file, and force overwrite:

    w_init --sstate-file=starts.txt --tstate-file=targets.txt --force

Implementation notes
--------------------
w_init uses WESTPA's runtime configuration and work-manager facilities to
instantiate the system, simulation manager, and data manager, and to create
the initial segments and WEST HDF5 simulation file. Only the master process
performs the state parsing and file initialization.