# Image Extraction

The image extraction module provides algorithms to reduce the image to one value per pixel. These algorithms are essential for processing and analyzing images obtained from cameras in various scientific applications.

## Available Extractors

- `ImageExtractor`: Base class for image extraction algorithms.
- `FlashCamExtractor`: Extractor specifically designed for FlashCam cameras.
- `FullWaveformSum`: Algorithm to sum the full waveform.
- `FixedWindowSum`: Algorithm to sum samples within a fixed integration window.
- `GlobalPeakWindowSum`: Algorithm to sum samples around a global peak.
- `LocalPeakWindowSum`: Algorithm to sum samples around a local peak.
- `SlidingWindowMaxSum`: Algorithm to find the largest sum within a sliding window.
- `NeighborPeakWindowSum`: Algorithm to sum samples around a peak considering neighboring pixels.
- `BaselineSubtractedNeighborPeakWindowSum`: Algorithm to sum samples around a peak with baseline subtraction.
- `TwoPassWindowSum`: Algorithm to perform a two-pass window sum.
- `extract_around_peak`: Function to extract charge around a peak.
- `extract_sliding_window`: Function to extract charge using a sliding window.
- `neighbor_average_maximum`: (Incomplete documentation)

## Functions

### `extract_around_peak`

This function performs the following operations:

- Sums the samples from the waveform using the window defined by a peak position, window width, and window shift.
- Obtains the pulse time within a window defined by a peak finding algorithm, using the weighted average of the samples.

#### Parameters

- `waveforms`: Waveforms stored in a numpy array.
- `peak_index`: Peak index for each pixel.
- `width`: Window size of integration window for each pixel.
- `shift`: Window size of integration window for each pixel.
- `sampling_rate_ghz`: Sampling rate of the camera, in units of GHz.
- `sum_`: Return argument for ufunc (ignore).
- `peak_time`: Return argument for ufunc (ignore).

#### Returns

- `charge`: Extracted charge.

### `extract_sliding_window`

This function performs the following operations:

- Finds the largest sum of width consecutive slices.
- Obtains the pulse time within a window defined by a peak finding algorithm, using the weighted average of the samples.

#### Parameters

- `waveforms`: Waveforms stored in a numpy array.
- `width`: Window size of integration window for each pixel.
- `sampling_rate_ghz`: Sampling rate of the camera, in units of GHz.
- `sum_`: Return argument for ufunc (ignore).
- `peak_time`: Return argument for ufunc (ignore).

#### Returns

- `charge`: Extracted charge.