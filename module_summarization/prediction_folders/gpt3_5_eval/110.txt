# Generate documentation for BestEffortCallback class

The `BestEffortCallback` class is a subclass of `QtAwareCallback` and is designed to provide callback functionality for data acquisition and visualization in a scientific experiment setup. This callback class offers various options to control the behavior of data presentation and visualization during the experiment run.

## Constructor

### `__init__(self, *, fig_factory=None, table_enabled=True, **kwargs)`

- `fig_factory`: A factory function for creating figure objects.
- `table_enabled`: A boolean flag to enable or disable LiveTable display.
- `**kwargs`: Additional keyword arguments for the base class constructor.

## Public Methods

### `enable_heading()`

- Enables printing timestamp and IDs at the top of a run.

### `disable_heading()`

- Disables the heading printing functionality.

### `enable_table()`

- Enables printing hinted readings from the 'primary' stream in a LiveTable.

### `disable_table()`

- Disables the LiveTable printing functionality.

### `enable_baseline()`

- Enables printing hinted fields from the 'baseline' stream.

### `disable_baseline()`

- Disables the printing of hinted fields from the 'baseline' stream.

### `enable_plots()`

- Enables plotting hinted fields from all streams not in `noplot_streams`.

### `disable_plots()`

- Disables plotting functionality.

## Callback Methods

### `__call__(self, name, doc, *args, **kwargs)`

- Handles the callback logic based on the provided document and options set.

### `start(self, doc)`

- Initializes the callback with the start document of the run.
- Prepares dimensions and handles the printing of run information.

### `descriptor(self, doc)`

- Processes the descriptor document and manages the plotting of data based on the provided hints and options.
- Handles the selection of fields for plotting and ensures proper data visualization.

## Attributes

- `overplot`: A boolean attribute to control overplotting behavior.
- `noplot_streams`: A list of streams to exclude from plotting.
- `omit_single_point_plot`: A boolean attribute to skip plotting for single-point data.

## Internal State

- `_start_doc`: Stores the start document of the run.
- `_descriptors`: Dictionary to store descriptor documents.
- `_table`: Reference to the LiveTable object.
- `_heading_enabled`: Flag to control heading printing.
- `_table_enabled`: Flag to enable LiveTable display.
- `_baseline_enabled`: Flag to enable baseline field printing.
- `_plots_enabled`: Flag to enable data plotting.
- `_fig_factory`: Factory function for creating figure objects.
- `_live_plots`: Dictionary mapping descriptor UID to LivePlot instances.
- `_live_grids`: Dictionary mapping descriptor UID to LiveGrid instances.
- `_live_scatters`: Dictionary mapping descriptor UID to LiveScatter instances.
- `_peak_stats`: Dictionary to store PeakStats instances.
- `_cleanup_motor_heuristic`: Flag to handle motor heuristic cleanup.
- `_stream_names_seen`: Set to track seen stream names.

## Public Data

- `peaks`: Instance of PeakResults class for storing peak information.

## Additional Notes

- The `BestEffortCallback` class provides a flexible and customizable approach to handling data visualization and presentation during an experiment run.
- It offers options to control the display of various data streams, plots, and additional information to suit the specific requirements of the experiment setup.