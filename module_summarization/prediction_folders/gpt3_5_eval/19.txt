```rst
w_crawl
=======

The ``w_crawl`` command is used to crawl a weighted ensemble dataset, executing a function for each iteration. This command can be utilized for postprocessing of trajectories, cleanup of datasets, or any other task that can be expressed as "do X for iteration N, then do something with the result". Tasks are parallelized by iteration, and no guarantees are made about the evaluation order.

Command-line options
---------------------

- ``-c``, ``--crawler-instance``:
  Use ``CRAWLER_INSTANCE`` (specified as ``module.instance``) as an instance of ``WESTPACrawler`` to coordinate the calculation. This is required only if initialization, finalization, or task result processing is needed.

- ``task_callable``:
  Run ``TASK_CALLABLE`` (specified as ``module.function``) on each iteration. This option is required.

Usage
-----

To use the ``w_crawl`` command, run the script with the following command:

.. code-block:: bash

    python w_crawl.py

This will execute the crawling process based on the specified task callable and crawler instance, if provided.

``WESTPACrawler`` Class
-----------------------

The ``WESTPACrawler`` class serves as the base class for general crawling execution. This class only exists on the master node and provides the following methods:

- ``initialize(iter_start, iter_stop)``:
  Initialize the crawling process.

- ``finalize()``:
  Finalize the crawling process.

- ``process_iter_result(n_iter, result)``:
  Process the result of a per-iteration task.

``WCrawl`` Class
----------------

The ``WCrawl`` class is a subclass of ``WESTParallelTool`` and represents the main command for crawling a weighted ensemble dataset. It provides the following functionalities:

- ``add_args(parser)``:
  Add command-line arguments related to data reading, iteration range selection, and task options.

- ``process_args(args)``:
  Process the command-line arguments, initialize the task callable and crawler instance, and open the data reader.

- ``go()``:
  Execute the crawling process by dispatching tasks, processing results, and finalizing the process.

For more information on how to use the ``w_crawl`` command, refer to the command-line options and usage instructions provided above.
```