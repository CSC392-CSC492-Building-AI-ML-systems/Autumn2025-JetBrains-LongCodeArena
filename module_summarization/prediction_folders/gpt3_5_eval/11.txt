# Working with Entities

Entities in the ftrack API represent various objects in the ftrack system such as tasks, shots, assets, users, etc. These entities are used to interact with and manipulate data in the ftrack server.

## Session

The `Session` class provides an isolated session for interaction with an ftrack server. When initializing a session, you can specify various parameters such as the server URL, API key, API user, cache settings, event hub connection, and more.

### Initialization Parameters

- `server_url`: URL of the ftrack server to connect to.
- `api_key`: API key for authentication.
- `api_user`: Username of the user in ftrack to record operations against.
- `auto_populate`: Flag to automatically fetch entity attributes from the server.
- `plugin_paths`: List of paths to search for plugins.
- `cache`: Cache instance used for session caching.
- `cache_key_maker`: Key maker instance for generating cache keys.
- `auto_connect_event_hub`: Flag for automatically connecting to the event hub.
- `schema_cache_path`: Folder path for schema caching.
- `plugin_arguments`: Optional mapping of keyword arguments for plugin register functions.

### Methods

- `__init__()`: Initialize the session with specified parameters.
- `__call__()`: Modify the request to have appropriate headers for authentication.

## SessionAuthentication

The `SessionAuthentication` class is used to attach ftrack session authentication information to requests. It requires the API key and API user for initialization and modifies the request headers accordingly.

### Methods

- `__init__(api_key, api_user)`: Initialize with the API key and API user.
- `__call__(request)`: Modify the request to include ftrack session authentication headers.

## Entities

Entities in the ftrack API are represented by various classes such as `Task`, `Shot`, `Asset`, `User`, etc. These classes provide methods and attributes to interact with the corresponding objects in the ftrack system.

### Example

```python
task = Session.query('Task').first()
print(task['name'])
```

In the example above, we query the first `Task` entity from the session and print its name attribute.

## Event Hub

The ftrack API provides an event hub for publishing and subscribing to events. By connecting to the event hub, you can receive notifications about changes happening in the ftrack system.

### Methods

- `connect()`: Manually connect to the event hub for publishing and subscribing to events.
- `disconnect()`: Disconnect from the event hub.

## Caching

The ftrack API supports caching to improve performance by storing and retrieving data locally. You can configure the cache settings during session initialization to control caching behavior.

### Note

- The session adds the specified cache to a pre-configured layered cache for efficient data storage.
- Enabling schema caching can improve performance by storing schema data locally.

By utilizing entities, sessions, event hubs, and caching mechanisms provided by the ftrack API, you can effectively work with data in the ftrack system and automate various tasks.