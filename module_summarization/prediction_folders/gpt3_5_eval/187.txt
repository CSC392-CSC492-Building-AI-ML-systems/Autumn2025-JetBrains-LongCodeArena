Isotonic Regression
====================

The isotonic regression model is a method for fitting a monotonic function to a set of data points. It is particularly useful when the relationship between the input and output variables is expected to be monotonic, either increasing or decreasing.

Functions
---------

check_increasing(x, y)
~~~~~~~~~~~~~~~~~~~~~~~~

Determine whether the target variable `y` is monotonically correlated with the input variable `x`. This is done based on a Spearman correlation test. The function returns a boolean indicating whether the relationship is increasing or decreasing.

Parameters
~~~~~~~~~~

- `x` : array-like of shape (n_samples,)
    Training data.
- `y` : array-like of shape (n_samples,)
    Training target.

Returns
~~~~~~~

- `increasing_bool` : boolean
    Whether the relationship is increasing or decreasing.

Notes
~~~~~

The Spearman correlation coefficient is estimated from the data, and the sign of the resulting estimate is used as the result. If the 95% confidence interval based on the Fisher transform spans zero, a warning is raised.

References
~~~~~~~~~~~

- Fisher transformation. Wikipedia.
  [https://en.wikipedia.org/wiki/Fisher_transformation](https://en.wikipedia.org/wiki/Fisher_transformation)

isotonic_regression(y, *, sample_weight=None, y_min=None, y_max=None, increasing=True)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Solve the isotonic regression model to fit a monotonic function to the data.

Parameters
~~~~~~~~~~

- `y` : array-like of shape (n_samples,)
    The data.
- `sample_weight` : array-like of shape (n_samples,), default=None
    Weights on each point of the regression. If None, weight is set to 1 (equal weights).
- `y_min` : float, default=None
    Lower bound on the lowest predicted value. If not set, defaults to negative infinity.
- `y_max` : float, default=None
    Upper bound on the highest predicted value. If not set, defaults to positive infinity.
- `increasing` : bool, default=True
    Whether to compute the isotonic fit as increasing (if set to True) or decreasing (if set to False).

Returns
~~~~~~~

- `y_` : ndarray of shape (n_samples,)
    Isotonic fit of `y`.

References
~~~~~~~~~~~

- "Active set algorithms for isotonic regression; A unifying framework" by Michael J. Best and Nilotpal Chakravarti, section 3.

IsotonicRegression
~~~~~~~~~~~~~~~~~~

Class implementing the isotonic regression model.

Parameters
~~~~~~~~~~

- `y_min` : float, default=None
    Lower bound on the lowest predicted value.
- `y_max` : float, default=None
    Upper bound on the highest predicted value.
- `increasing` : bool or 'auto', default=True
    Determines whether the predictions should be constrained to increase or decrease with the input variable. 'auto' will decide based on the Spearman correlation estimate's sign.
- `out_of_bounds` : {'nan', 'clip', 'raise'}, default='nan'
    Handles how input values outside of the training domain are handled during prediction.

Attributes
~~~~~~~~~~

- `X_min_` : float
    Minimum value of the input array for the left bound.
- `X_max_` : float
    Maximum value of the input array for the right bound.
- `X_thresholds_` : ndarray of shape (n_thresholds,)
    Unique ascending input values used to interpolate the monotonic function.
- `y_thresholds_` : ndarray

For more details and usage examples, refer to the User Guide on isotonic regression.