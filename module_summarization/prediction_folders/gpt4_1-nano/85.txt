piccolo_projects
==================

Overview
--------

The `piccolo_projects` module provides core functionalities for managing Piccolo applications, including app configuration, table discovery, command registration, and migration handling. It facilitates the organization and automation of database schema migrations, app dependencies, and CLI commands within Piccolo-based projects.

Classes
-------

### MigrationModule

Represents a migration module with attributes for identification, versioning, and description. It includes an asynchronous method `forwards()` intended to apply forward migrations.

### PiccoloAppModule

Extends `ModuleType` to include an `APP_CONFIG` attribute, representing the application's configuration.

### Command

A data class encapsulating a callable command and its optional aliases for CLI registration.

### AppConfig

Defines the configuration for a Piccolo app, including its name, migration folder path, registered table classes, migration dependencies, and CLI commands.

Methods:
- `__post_init__()`: Initializes command list and converts migration folder path to string if necessary.
- `register_table()`: Registers a new table class with the app.
- `migration_dependency_app_configs()`: Retrieves `AppConfig` instances for app dependencies, with caching for efficiency.
- `get_table_with_name()`: Retrieves a table class by its class name, raising an error if not found.

### table_finder

A utility function to discover and import `Table` subclasses from specified modules. It supports filtering by include and exclude tags, and an option to exclude imported tables from other modules.

Parameters:
- `modules`: List of module paths to scan.
- `include_tags`: Tags to include tables.
- `exclude_tags`: Tags to exclude tables.
- `exclude_imported`: Whether to exclude imported tables from other modules.

Returns:
- List of discovered `Table` subclasses matching criteria.

### AppRegistry

Maintains a registry of all Piccolo apps in a project, typically stored in `piccolo_conf.py`. It manages a list of app paths and their corresponding configurations.

Usage
-----

This module is essential for setting up and managing Piccolo applications, enabling dynamic discovery of database tables, configuration of app dependencies, and registration of CLI commands. It supports scalable and maintainable project structures by automating common tasks related to database migrations and app management.

Note
----

The module relies on several internal and external utilities, such as `inspect`, `importlib`, and custom utilities like `TopologicalSorter` and `colored_warning`, to facilitate introspection, module importing, and user notifications within the Piccolo framework.