Utilities for Developers
========================

This section provides various utility functions and compatibility fixes to assist developers working with scikit-learn, numpy, scipy, and related libraries.

Compatibility Fixes
-------------------

- Compatibility adjustments for older versions of Python, numpy, and scipy.
- Version parsing and conditional imports ensure compatibility across different library versions.
- Support for sparse matrix containers across scipy versions.
- Compatibility shims for scipy.optimize line search functions depending on scipy version.
- Python 3.9+ support for importlib.resources functions, with fallbacks for earlier versions.

Sparse Matrix Utilities
-----------------------

- Lists of sparse matrix container types for different sparse matrix formats (CSR, CSC, COO, LIL, DOK, BSR).
- Conditional inclusion of scipy.sparse array types for scipy 1.8+.

Thread Pool Management
----------------------

- Functions to control thread pool limits (`threadpool_limits`) and retrieve thread pool information (`threadpool_info`).
- Compatibility with threadpoolctl versions 3.0.0 and above.

Numerical Utilities
-------------------

- `_object_dtype_isnan`: Checks for NaN values in object arrays.
- `_percentile`: Wrapper for numpy's percentile function, with support for deprecated `interpolation` argument in numpy < 1.22.
- `_mode`: Computes the mode of an array, with support for scipy 1.9+ and handling changes in scipy.stats.mode.

Optimization Utilities
---------------------

- `_sparse_linalg_cg`: Wrapper around `scipy.sparse.linalg.cg` with compatibility for scipy versions earlier than 1.12, handling `rtol` and `atol` parameters.

Resource Management
-------------------

- Functions for reading data files and package resources with support for Python 3.9+ features:
  - `_open_text`, `_open_binary`, `_read_text`, `_path`.
- These functions provide seamless access to package data, with fallbacks for earlier Python versions.

Deprecation Handling
--------------------

- `deprecated`: Decorator to mark functions as deprecated, providing warnings to developers about upcoming changes.

Usage Notes
-----------

- Developers should ensure their environment meets the minimum version requirements for optimal compatibility.
- When updating dependencies, review the version-dependent code sections to leverage new features or remove legacy support.
- Use the provided utilities to maintain compatibility across different library versions and Python environments.

This collection of utilities aims to streamline development workflows, ensure backward compatibility, and facilitate resource management within the scikit-learn ecosystem.