Generate Documentation for the Models Module
=============================================

Overview
--------
This module provides classes and functions for spectral data modeling and fitting. It includes a wrapper for simple spectral fitting, a flexible spectral model class supporting multi-component models, and utility functions for spectral analysis.

Modules and Dependencies
-------------------------
- numpy: Numerical operations
- pyspeckit.mpfit: Levenberg-Marquardt fitting routines
- pyspeckit.spectrum.moments: Spectral moments calculations
- pyspeckit.spectrum.parinfo: Parameter information management
- astropy.log: Logging and messaging
- matplotlib.cbook: Utility functions for plotting
- collections.OrderedDict: Ordered dictionary support
- copy: Object copying utilities
- itertools, operator, six: Python standard libraries for iteration, functional operations, and compatibility

Classes
-------

SimpleFitter
------------
A basic wrapper class providing minimal spectral fitting capabilities.

Methods:
- __init__(): Initializes the SimpleFitter instance.
- moments(*args, **kwargs): Retrieves spectral moments using the moments package.

Functions
---------
- vheightmodel(zeroheightmodel)
    - Creates a wrapper function to add a variable height (background) component to a given model.
    - Parameters:
        - zeroheightmodel: The base model function without background component.
    - Returns:
        - vhm: The wrapped model function with optional variable height.

SpectralModel
-------------
A comprehensive class for defining, managing, and fitting spectral models. Supports multi-component models, parameter constraints, units conversion, and annotations.

Initialization Parameters:
- modelfunc (function): The core model function to fit.
- npars (int): Number of parameters for the model.
- shortvarnames (tuple): TeX-formatted variable names for annotations.
- fitunit (str): Units for the independent variable axis.
- centroid_par: Parameter name for the centroid position.
- fwhm_func: Function to compute FWHM.
- fwhm_pars: Parameters for FWHM calculation.
- integral_func: Function to compute the model integral.
- use_lmfit (bool): Flag to use lmfit instead of mpfit.
- guess_types (tuple): Types of initial guesses ('amplitude', 'center', 'width').

Methods:
- __init__(self, ...): Sets up the spectral model with specified parameters.
- __copy__(self): Creates a shallow copy of the model instance.
- __deepcopy__(self, memo): Creates a deep copy of the model instance.
- __call__(self, *args, **kwargs): Executes the model fitting process with provided data and parameters.

Usage
-----
Instantiate a SpectralModel with a model function and configuration parameters, then use it to fit spectral data, generate model components, or compute integrals.

Example:
.. code-block:: python

    def gaussian_model(x, amplitude, center, width):
        return amplitude * np.exp(-0.5 * ((x - center) / width) ** 2)

    model = SpectralModel(gaussian_model, npars=3)
    result = model(x_data, y_data)

Notes
-----
- The module supports Python versions earlier than 2.7 through conditional imports of OrderedDict.
- Parameter guessing and constraints can be customized via the initialization parameters.
- The class is designed to be extended for complex multi-component spectral modeling.

Author
------
Adam Ginsburg <adam.g.ginsburg@gmail.com>

This documentation provides an overview of the classes and functions available for spectral data modeling within this module.