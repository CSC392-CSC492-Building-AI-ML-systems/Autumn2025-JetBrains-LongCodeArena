Generate Documentation for this Module
=======================================

This module provides functions to manage database schema migrations using Alembic, including listing templates, initializing new migration environments, and creating revision scripts.

Functions
---------

list_templates(config: Config)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Lists all available migration environment templates.

Parameters:
- config (Config): The Alembic configuration object.

Usage:
- Prints the list of templates with their descriptions to stdout.
- Example: `alembic list-templates --config your_config`

init(
    config: Config,
    directory: str,
    template: str = "generic",
    package: bool = False,
)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Initializes a new Alembic migration environment in the specified directory.

Parameters:
- config (Config): The Alembic configuration object.
- directory (str): Path to the target directory for the new environment.
- template (str): Name of the template to use (default: "generic").
- package (bool): If True, creates `__init__.py` files in environment and versions directories.

Usage:
- Creates necessary directories and copies template files.
- Optionally adds `__init__.py` files for package structure.
- Example: `alembic init --directory my_migrations --template custom`

revision(
    config: Config,
    message: Optional[str] = None,
    autogenerate: bool = False,
    sql: bool = False,
    head: str = "head",
    splice: bool = False,
    branch_label: Optional[str] = None,
    version_path: Optional[str] = None,
    rev_id: Optional[str] = None,
    depends_on: Optional[str] = None,
    process_revision_directives: Optional[ProcessRevisionDirectiveFn] = None,
)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Creates a new database revision script.

Parameters:
- config (Config): The Alembic configuration object.
- message (str, optional): Commit message for the revision.
- autogenerate (bool): If True, autogenerate the revision script based on database schema differences.
- sql (bool): If True, outputs the SQL commands for the revision instead of creating a script.
- head (str): The revision identifier to use as the parent (default: "head").
- splice (bool): If True, makes the new revision a child of the specified head.
- branch_label (str, optional): Label for the branch.
- version_path (str, optional): Path to store the version.
- rev_id (str, optional): Specific revision ID to assign.
- depends_on (str, optional): List of revision IDs this revision depends on.
- process_revision_directives (callable, optional): Function to modify revision directives programmatically.

Usage:
- Generates a new revision script, optionally autogenerating based on schema differences.
- Can output SQL commands instead of script files.
- Example: `alembic revision -m "Add new feature" --autogenerate`

Notes
-----

- The module relies on Alembic's configuration and script management classes.
- It provides command-line interface functions for common migration tasks.
- Use the `revision()` function with appropriate parameters to create new migration scripts.
- The `init()` function sets up a new migration environment with templates.
- The `list_templates()` function helps discover available environment templates.

This documentation covers the core functions for managing Alembic migrations programmatically and via command-line commands.