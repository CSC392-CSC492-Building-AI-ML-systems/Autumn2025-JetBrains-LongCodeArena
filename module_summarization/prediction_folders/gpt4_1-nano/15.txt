Ploterr Command
================

The `ploterr` command is a versatile tool for visualizing expectation values and confidence intervals (CI) from data stored in HDF5 files. It supports both graphical and text-based output modes, allowing users to generate plots or textual summaries of their data.

Features
--------
- Plot expectation and confidence interval data with customizable axes, labels, and titles.
- Support for different axis scales: linear, logarithmic, and symmetric logarithmic.
- Ability to restrict plot ranges for both axes.
- Output in various formats determined by filename extension.
- Compatibility with terminal display or graphical window depending on environment.

Usage
-----
The command accepts the following options:

- `--xscale` / `--yscale`: Choose axis scaling (`linear`, `log`, `symlog`).
- `--xrange` / `--yrange`: Specify axis ranges as `xmin,xmax` or `ymin,ymax`.
- `--xlabel` / `--ylabel`: Set custom axis labels.
- `--title`: Set a custom plot title.
- `--terminal` / `-t`: Plot output directly in the terminal.
- `-o` / `--output`: Specify output filename (default: `errbars.pdf`).

Input Data
----------
The data is provided via a dataset within an HDF5 file, specified as `FILENAME/PATH[SLICE]`. The dataset must be one-dimensional and contain the following fields:
- `iter_start`
- `iter_stop`
- `expected`
- `ci_lbound`
- `ci_ubound`

The dataset slice can be specified using standard numpy slicing syntax within brackets.

Examples
--------
To plot data from a dataset with a specific slice and save as a PDF:
```
ploterr -o myplot.pdf "data.h5/measurements[:,0]" --xscale log --title "Measurement Expectations"
```

To display the plot in the terminal:
```
ploterr --terminal "data.h5/measurements" --title "Expectations"
```

Output
------
The generated plot or textual data is saved to the specified output file. If no output filename is provided, the command may display the plot directly or perform other default actions depending on the environment.

Note
----
Ensure that the required dependencies, such as `matplotlib` and `h5py`, are available in your environment. The command automatically detects whether to produce graphical or text output based on environment variables and options.