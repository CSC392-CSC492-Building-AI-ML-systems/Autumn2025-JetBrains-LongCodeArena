Connecting Steps Together
=========================

Introduction
------------
In a typical design flow, multiple steps are executed sequentially or in parallel to accomplish complex tasks. Connecting these steps correctly is essential for ensuring data flows smoothly from one process to the next. This document explains how to connect steps together using the provided API, enabling flexible and efficient workflow construction.

Step Handles and Their Usage
----------------------------
Each step exposes input and output handles that serve as connection points. Handles are represented as tuples containing the step name, handle type ('inputs' or 'outputs'), and the handle name.

- **Input Handles**: Used to receive data from upstream steps.
- **Output Handles**: Used to send data to downstream steps.

You can retrieve handles using the `get_input_handle` and `get_output_handle` methods, or their syntactic sugar aliases `i()` and `o()`.

Example:
```python
step1 = Step('path/to/step1')
step2 = Step('path/to/step2')

# Get handles
input_handle = step2.i('data_in')
output_handle = step1.o('data_out')
```

Connecting Steps
----------------
To connect the output of one step to the input of another, you typically establish a link between their respective handles. This connection is often represented in a graph or workflow configuration, where the output handle of one step is linked to the input handle of another.

### Connecting via Handles
You can connect steps by referencing their handles directly:
```python
# Assume 'graph' is an object managing the workflow
graph.connect(output_handle, input_handle)
```

### Building a Workflow
1. Instantiate all steps involved.
2. Retrieve the necessary handles.
3. Connect the output handles of upstream steps to the input handles of downstream steps.
4. Extend the workflow as needed with additional steps and connections.

Example Workflow:
```python
# Instantiate steps
stepA = Step('path/to/stepA')
stepB = Step('path/to/stepB')

# Connect stepA's output to stepB's input
graph.connect(stepA.o('result'), stepB.i('input_data'))
```

Extending Connections
---------------------
The API provides methods to extend inputs and outputs of steps, allowing dynamic modification of the workflow:

- `extend_inputs(new_list)`: Add new input handles.
- `extend_outputs(new_list)`: Add new output handles.

Pre- and post-commands can also be extended to customize execution sequences.

Summary
-------
Connecting steps involves retrieving their input and output handles and establishing links between them. This modular approach facilitates flexible workflow design, enabling complex data processing pipelines to be constructed with clarity and ease. Properly connecting steps ensures data flows correctly through the process, leading to reliable and maintainable workflows.