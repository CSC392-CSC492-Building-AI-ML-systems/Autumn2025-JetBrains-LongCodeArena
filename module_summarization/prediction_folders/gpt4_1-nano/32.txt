w_run Command
=============

Overview
--------
The `w_run` command is used to start or continue a WEST simulation. It initializes the necessary components, manages the execution flow, and handles signals and exceptions during the simulation run.

Usage
-----
```bash
w_run [options]
```

Options
-------
- `--oneseg`
  - **dest:** `only_one_segment`
  - **action:** `store_true`
  - **help:** Only propagate one segment (useful for debugging propagators)

Description
-----------
The `w_run` command sets up the simulation environment by parsing command-line arguments and configuring the system components such as the simulation manager, data manager, propagator, and work manager. It then proceeds to run the simulation within a managed work environment.

Main Features
-------------
- Initializes and configures the simulation components based on user-provided arguments.
- Supports running the simulation in a single segment mode for debugging purposes.
- Handles signals for graceful shutdowns.
- Catches and logs exceptions during the simulation run to aid debugging.
- Differentiates between master and worker processes, ensuring proper coordination in parallel execution.

Execution Flow
--------------
1. Argument parsing and configuration setup.
2. Creation of the work manager and simulation components.
3. Running the simulation within a managed context:
   - The master process prepares and executes the simulation.
   - Worker processes participate in the execution as managed by the work manager.
4. Finalization and cleanup after the simulation completes or is interrupted.

Notes
-----
- The command relies on the WESTPA framework's configuration and plugin system.
- Use the `--oneseg` option for debugging specific propagator behavior.
- Proper exception handling ensures that errors are logged and the simulation shuts down gracefully.

Example
-------
```bash
w_run --oneseg
```
This command runs the simulation propagating only a single segment, which is useful for debugging purposes.