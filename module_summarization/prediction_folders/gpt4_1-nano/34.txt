w_stateprobs
============

Calculate state-to-state kinetics by tracing trajectories

Synopsis
--------
w_stateprobs [options]

Description
-----------
The `w_stateprobs` command computes average populations and associated errors in state populations from weighted ensemble data. It requires bin assignments, including macrostate definitions, to perform the analysis. This tool is useful for analyzing the kinetics of transitions between states in molecular simulations or other systems modeled with weighted ensemble methods.

Output
------
The primary output is an HDF5 file (default: `stateprobs.h5`) containing datasets with population averages and error estimates:

- `/avg_state_pops [state]`: Structured dataset with the population of each state across the specified range.

If the `--evolution-mode` option is used, additional datasets are provided:

- `/state_pop_evolution [window][state]`: Structured dataset showing state populations over windows of iterations, which can be cumulative or blocked depending on the mode.

Dataset Structure
-----------------
The datasets include the following fields:

- `iter_start`: Integer, iteration at which the averaging window begins (inclusive).
- `iter_stop`: Integer, iteration at which the window ends (exclusive).
- `expected`: Float, mean rate within the window, in units of inverse tau.
- `ci_lbound`: Float, lower bound of the confidence interval on the rate.
- `ci_ubound`: Float, upper bound of the confidence interval on the rate.
- `corr_len`: Integer, correlation length of the rate within the window, in units of tau.

Attributes associated with these datasets:

- `mcbs_alpha`: Float, alpha value for confidence intervals (e.g., 0.05 for 95% confidence).
- `mcbs_nsets`: Integer, number of bootstrap datasets used for confidence intervals.
- `mcbs_acalpha`: Float, alpha value for determining correlation lengths.

Options
-------
See the command-line help (`w_stateprobs --help`) for detailed options, including bin assignment inputs, output file specification, and modes of analysis.

Notes
-----
This command is a wrapper and is deprecated in favor of `w_direct`. Users are encouraged to transition to the newer command for future analyses.