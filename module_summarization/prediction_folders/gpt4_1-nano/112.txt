Metadata Documentation
========================

This document provides detailed information about the functions and their parameters within the codebase related to data acquisition plans.

Functions
---------

count(detectors, num=1, delay=None, *, per_shot=None, md=None)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Generates a plan to take one or more readings from specified detectors.

Parameters:
- detectors (list): List of 'readable' detector objects.
- num (int, optional): Number of readings to take; defaults to 1. If None, data collection continues until canceled.
- delay (iterable or scalar, optional): Time delay in seconds between successive readings; defaults to 0.
- per_shot (callable, optional): Custom hook for actions at each shot; signature should accept detectors and yield messages.
- md (dict, optional): Metadata dictionary to include additional contextual information.

Notes:
- If delay is an iterable, it must have at least num - 1 entries.
- The plan updates metadata with detector names, number of points, intervals, and hints.

Returns:
- A generator yielding the plan execution steps.

---

list_scan(detectors, *args, per_step=None, md=None)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Performs a multi-dimensional scan over one or more motors with specified points.

Parameters:
- detectors (list): List of detector objects.
- *args: Pairs of motor objects and their corresponding list of points.
- per_step (callable, optional): Hook for actions at each step; signature should accept detectors, motor, and step.
- md (dict, optional): Metadata dictionary for additional context.

Notes:
- All point lists must be of equal length.
- Metadata is enriched with motor names, number of points, and hints for plotting.
- Uses plan patterns to generate the full cycle of points.

Returns:
- A generator yielding the plan execution steps.

---

rel_list_scan(detectors, *args, per_step=None, md=None)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Performs a relative scan over one or more motors, moving relative to current positions.

Parameters:
- detectors (list): List of detector objects.
- *args: Pairs of motor objects and their relative step lists.
- per_step (callable, optional): Hook for actions at each step.
- md (dict, optional): Metadata dictionary for additional context.

Notes:
- The implementation is pending; intended to support relative movements similar to list_scan.

Returns:
- A generator yielding the plan execution steps (to be implemented).

---

Additional Information
----------------------
- The code imports various modules for data handling, including numpy, itertools, functools, collections, and optional cython-accelerated toolz.
- It relies on custom modules such as plan_patterns, utils, preprocessors, and plan_stubs.
- Decorators are used for staging and running plans, enabling integration with a larger data acquisition framework.
- Metadata dictionaries are constructed to facilitate plan execution, logging, and visualization.
- The plans are designed to be composable and flexible, supporting complex experimental sequences.

This documentation serves as a comprehensive reference for understanding the parameters, behavior, and structure of the data acquisition plans implemented in the code.