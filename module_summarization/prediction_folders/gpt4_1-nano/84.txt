piccolo_apps Module Documentation
===================================

Overview
--------
The `piccolo_apps` module provides classes and functions to manage Piccolo applications, including app configuration, table discovery, and app registry management. It facilitates the organization of Piccolo apps, their dependencies, and associated database tables, enabling streamlined migration and command registration.

Classes
-------

MigrationModule
---------------
A subclass of `ModuleType` representing a migration module.
- Attributes:
  - `ID`: str - Unique identifier for the migration.
  - `VERSION`: str - Migration version.
  - `DESCRIPTION`: str - Description of the migration.
- Methods:
  - `forwards()`: async method to apply the migration forward.

PiccoloAppModule
----------------
A subclass of `ModuleType` representing a Piccolo app module.
- Attributes:
  - `APP_CONFIG`: AppConfig - The configuration object for the app.

Dataclasses
-----------

Command
-------
Represents a command that can be registered with the Piccolo CLI.
- Attributes:
  - `callable`: Callable - The function or coroutine to execute.
  - `aliases`: List[str] - Alternative command names.

AppConfig
---------
Contains configuration details for a Piccolo app.
- Attributes:
  - `app_name`: str - Name of the app.
  - `migrations_folder_path`: str - Path to the migrations folder.
  - `table_classes`: List[Type[Table]] - List of registered table classes.
  - `migration_dependencies`: List[str] - List of app dependencies for migrations.
  - `commands`: List[Union[Callable, Command]] - List of CLI commands.
- Methods:
  - `__post_init__()`: Initializes command list and path string.
  - `register_table(table_class)`: Registers a table class.
  - `migration_dependency_app_configs()`: Retrieves app configs of dependencies.
  - `get_table_with_name(table_class_name)`: Retrieves a table class by name.

AppRegistry
-----------
Manages all Piccolo apps within a project.
- Attributes:
  - `apps`: List[str] - List of app module paths.
  - `app_configs`: Dict[str, AppConfig] - Dictionary of app configurations.

Functions
---------

table_finder
------------
Discovers and imports `Table` subclasses from specified modules.
- Parameters:
  - `modules`: Sequence[str] - List of module paths to scan.
  - `include_tags`: Sequence[str] - Tags to include.
  - `exclude_tags`: Sequence[str] - Tags to exclude.
  - `exclude_imported`: bool - Whether to exclude imported tables.
- Returns:
  - List of `Table` subclasses found in the modules.

Usage
-----
This module is essential for managing Piccolo applications, enabling dynamic discovery of database tables, configuration of app dependencies, and registration of CLI commands. It supports building scalable and maintainable database schemas with clear dependency management and modular app design.
