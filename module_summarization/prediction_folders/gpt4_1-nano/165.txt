PyTables File Format
======================

Introduction
------------
PyTables is a package for managing hierarchical datasets and designed to efficiently and easily cope with extremely large amounts of data. The core of PyTables relies on a specific file format that organizes data in a structured and optimized manner. This document provides an overview of the PyTables file format, focusing on the indexing structures and their components.

Index Structure
---------------
The index in PyTables is represented by the `Index` class, which is used to maintain indexing information for columns within a table. Each index is associated with a single column and is stored as a group within the file structure.

The `Index` class inherits from `NotLoggedMixin`, `Group`, and `indexesextension.Index`, combining functionalities for group management, indexing, and extension support. It encapsulates various attributes and methods to manage index properties, filters, and state.

Key Attributes
--------------
- **kind**: Indicates the type of index, such as 'ultralight', 'light', 'medium', or 'full', based on the index size.
- **filters**: Defines the I/O filters applied to the index datasets, including compression level and algorithms.
- **dirty**: A boolean flag indicating whether the index is out of sync with the column data. Dirty indexes are not usable until synchronized.
- **column**: Provides access to the column object that the index is built upon.
- **table**: Accesses the parent table containing the indexed column.
- **nblockssuperblock**: Number of blocks in a superblock, derived from the superblock size and block size.
- **nslicesblock**: Number of slices within a block.
- **nchunkslice**: Number of chunks within a slice.
- **nsuperblocks**: Total number of superblocks in the index.

Index Storage
-------------
Indexes are stored as groups within the file, with specific attributes and datasets that describe their configuration and state. The index datasets are organized into blocks, slices, and superblocks to optimize access and modification.

Index Components
----------------
- **Superblocks**: Large units containing multiple blocks, facilitating efficient access to large portions of the index.
- **Blocks**: Fundamental units of data storage within superblocks.
- **Slices**: Subdivisions within blocks, used to manage data granularity.
- **Chunks**: The smallest units within slices, representing contiguous data segments.

Index Management
----------------
The `Index` class provides methods to manage the index state, including setting and checking the dirty flag, accessing associated columns and tables, and retrieving configuration parameters such as block sizes and filter settings.

Versioning
----------
The index format version is specified by the `obversion` attribute, which is set to "2.1" for PyTables Pro 2.1 and later series. This versioning helps in maintaining compatibility and understanding the structure of index datasets.

Conclusion
----------
The PyTables file format is designed to efficiently store and access large hierarchical datasets. Its indexing structures are optimized for performance, with configurable parameters and robust management features. Understanding the components and organization of indexes is essential for advanced manipulation and optimization of PyTables datasets.
