Using Metadata
==============

The ftrack API utilizes a comprehensive metadata system to facilitate interaction with the ftrack server. This system includes classes, functions, and modules that manage authentication, sessions, caching, event handling, and plugin management.

Authentication
--------------
- `SessionAuthentication`: Attaches session authentication information to HTTP requests by including necessary headers such as `ftrack-api-key` and `ftrack-user`.

Session Management
------------------
- `Session`: Represents an isolated session for communication with an ftrack server. It handles server connection details, authentication credentials, caching strategies, event hub integration, and plugin configuration.

Initialization Parameters:
- `server_url`: URL of the ftrack server, including port number. Can be set via environment variable `FTRACK_SERVER`.
- `api_key`: API key for authentication, can be sourced from environment variables `FTRACK_API_KEY` or `FTRACK_APIKEY`.
- `api_user`: Username for the session, can be sourced from environment variables `FTRACK_API_USER` or obtained via `getpass.getuser()`.
- `auto_populate`: If True, entity attributes are automatically fetched from the server when accessed.
- `plugin_paths`: List of paths to search for plugins.
- `cache`: Cache instance implementing `ftrack_api.cache.Cache` interface or a callable returning such an instance.
- `cache_key_maker`: Instance of `ftrack_api.cache.KeyMaker` to generate cache keys.
- `auto_connect_event_hub`: If True, automatically connects the embedded event hub to the server.
- `schema_cache_path`: Path to store schema cache; can be disabled by setting to `False`.
- `plugin_arguments`: Dictionary of arguments passed to plugin registration functions.

Caching
-------
The system supports layered caching with a default top-level `MemoryCache`. Users can specify custom cache implementations or key makers to optimize data retrieval and storage.

Event Handling
--------------
The session can automatically connect to the event hub for publishing and subscribing to events, including non-local events, with background thread management for improved startup performance.

Plugins
-------
Plugins can be discovered and registered dynamically, with support for passing custom arguments during registration. The system attempts to adapt to plugin signatures to ensure compatibility.

Overall, the metadata system in ftrack API provides flexible, extensible, and efficient means to manage server interactions, authentication, caching, event handling, and plugin integration, enabling robust automation and customization capabilities.