How to Generate Schema
=======================

This guide explains how to generate and apply the database schema using the provided functions.

Generating Schema SQL
---------------------

Use the `get_schema_sql` function to generate the SQL statements needed to create the database schema.

```python
def get_schema_sql(client: "BaseDBAsyncClient", safe: bool) -> str
```

Parameters:
- `client`: An instance of `BaseDBAsyncClient` representing the database connection.
- `safe`: A boolean indicating whether to create tables only if they do not already exist (`True`) or to recreate them (`False`).

This function returns a string containing the SQL commands to create the schema.

Applying Schema to the Database
-----------------------------

Use the `generate_schema_for_client` asynchronous function to generate and apply the schema directly to the database.

```python
async def generate_schema_for_client(client: "BaseDBAsyncClient", safe: bool) -> None
```

Parameters:
- `client`: An instance of `BaseDBAsyncClient`.
- `safe`: A boolean indicating whether to create tables only if they do not already exist.

This function performs the following steps:
1. Retrieves the schema SQL using `get_schema_sql`.
2. Logs the schema creation process.
3. Executes the schema SQL on the database by generating the schema from the string.

Example usage:
```python
import asyncio

# Assuming `client` is an instance of BaseDBAsyncClient
await generate_schema_for_client(client, safe=True)
```

Note: Ensure that the database client is properly initialized before calling these functions.