Contingency Tables Module
==========================

Overview
--------
This module provides classes and functions for analyzing two-way contingency tables, which are frequency tables for observations cross-classified with respect to two categorical variables. It includes methods for assessing associations, independence, and trend within contingency tables, as well as conducting specific statistical tests such as McNemar's test and Cochran's Q test.

Main Classes
------------
- Table
  - Represents a general two-way contingency table.
  - Provides methods for statistical testing and data manipulation.
- SquareTable
  - Extends Table with methods specific to square contingency tables.
- Table2x2
  - Specialized for 2x2 contingency tables.
  - Includes methods tailored for 2x2 data analysis.
- StratifiedTable
  - Handles collections of 2x2 tables.
  - Facilitates analysis of stratified or matched data.

Key Functions
-------------
- _make_df_square(table)
  - Reindexes a pandas DataFrame to make it square by aligning row and column indices.
- _Bunch
  - Utility class for organizing and displaying results in a structured manner.

Classes and Methods
-------------------

Table
-----
A class representing a two-way contingency table with methods for analysis.

Constructor:
- __init__(table, shift_zeros=True)
  - Initializes the table, optionally shifting zeros to avoid issues with certain statistical tests.

Class Methods:
- from_data(data, shift_zeros=True)
  - Creates a Table instance from raw data, constructing the contingency table via cross-tabulation.

Instance Methods:
- __str__()
  - Returns a string representation of the table.
- test_nominal_association()
  - Performs a chi-squared test for independence assuming nominal (unordered) categories.
  - Returns a _Bunch object with test statistic, degrees of freedom, and p-value.
- test_ordinal_association(row_scores=None, col_scores=None)
  - Performs a linear-by-linear association test for ordinal variables.
  - Uses specified scores or defaults to ordinal scores.
  - Returns a _Bunch with test statistic, expected mean, standard deviation, Z-score, and p-value.

Additional Notes
----------------
- The module assumes that the data are sampled under conditions where units are independent and identically distributed.
- The methods for association testing rely on chi-squared and trend tests, suitable for categorical data analysis.

References
----------
- Definitions of residuals: https://onlinecourses.science.psu.edu/stat504/node/86
- Statistical tests and methods are based on standard contingency table analysis techniques.

Usage
-----
Import the module and create Table objects from data or existing contingency tables. Use the provided methods to perform statistical tests and interpret the relationships between categorical variables.

Example:
---------
```python
from contingency_tables import Table

# Create a contingency table from data
data = ... # your data here
table = Table.from_data(data)

# Test for independence
result = table.test_nominal_association()
print(f"Chi-squared statistic: {result.statistic}")
print(f"P-value: {result.pvalue}")
```

This documentation provides an overview of the classes and functions available for contingency table analysis, facilitating statistical inference on categorical data.