# Isotonic Regression Module Documentation

This module provides tools for performing isotonic regression, a non-parametric calibration method that fits a monotonic function to data. It includes functions for checking monotonic relationships, performing isotonic regression, and a class implementing the isotonic regression model with additional options for bounds and out-of-bounds handling.

## Functions

### check_increasing(x, y)
Determines whether the target `y` is monotonically increasing or decreasing with respect to `x` based on a Spearman correlation test.

**Parameters**
- `x` (array-like): Training data features.
- `y` (array-like): Training target values.

**Returns**
- `increasing_bool` (bool): `True` if `y` is increasing with `x`, `False` otherwise.

**Notes**
- Uses Spearman's rank correlation coefficient.
- Warns if the confidence interval of the correlation spans zero, indicating uncertainty in the monotonic relationship.

### isotonic_regression(y, *, sample_weight=None, y_min=None, y_max=None, increasing=True)
Fits an isotonic regression model to the data `y`.

**Parameters**
- `y` (array-like): The target data to fit.
- `sample_weight` (array-like, optional): Weights for each sample.
- `y_min` (float, optional): Lower bound on predictions.
- `y_max` (float, optional): Upper bound on predictions.
- `increasing` (bool, optional): Whether the fit should be increasing (`True`) or decreasing (`False`).

**Returns**
- `y_` (ndarray): The fitted isotonic regression values.

**References**
- Based on algorithms described by Michael J. Best and Nilotpal Chakravarti.

## Class: IsotonicRegression

### Overview
Implements an isotonic regression estimator that can be used for prediction and transformation tasks. It supports bounds on predictions, automatic determination of monotonicity, and handling of out-of-bounds data.

### Parameters
- `y_min` (float, optional): Minimum predicted value.
- `y_max` (float, optional): Maximum predicted value.
- `increasing` (bool or 'auto', optional): Direction of monotonicity. `'auto'` determines the direction based on the data.
- `out_of_bounds` (str, optional): Handling of out-of-bounds `X` values. Options:
  - `'nan'`: Predictions are NaN.
  - `'clip'`: Predictions are clipped to the nearest boundary.
  - `'raise'`: Raises an error for out-of-bounds inputs.

### Attributes
- `X_min_` (float): Minimum value of training input `X_`.
- `X_max_` (float): Maximum value of training input `X_`.
- `X_thresholds_` (ndarray): Sorted unique `X` values used for interpolation.
- `y_thresholds_` (ndarray): Corresponding predicted values at thresholds.

This module is designed to facilitate monotonic regression analysis, providing robust tools for checking relationships, fitting models, and handling various data constraints.