# HDF5 File Reader Documentation

## Overview

The HDF5 File Reader is a versatile tool designed to facilitate the reading and processing of HDF5 files. It provides a structured approach to access datasets and groups within HDF5 files, along with a suite of transformation functions to manipulate and extract data efficiently. This parser is part of the Masci-tools package, tailored for material science applications, but its flexible design makes it suitable for a wide range of data handling tasks involving HDF5 format.

## Key Features

- **Flexible Dataset Access:** Easily retrieve datasets and groups from HDF5 files, with support for nested structures.
- **Transformation Functions:** A collection of predefined transformations to process datasets, including indexing, slicing, shape retrieval, naming, tiling, and repeating data.
- **Child Dataset Extraction:** Ability to extract all datasets contained within a group, with filtering options.
- **Error Handling:** Robust mechanisms to handle errors during transformations, ensuring graceful failure and clear error messages.

## Transformation Functions

The parser includes several transformation functions, which can be registered and used to manipulate datasets:

### 1. `get_first_element`
Retrieves the first element of a dataset. Useful for quickly accessing a representative value.

### 2. `index_dataset`
Accesses the n-th element of a dataset by index.

### 3. `slice_dataset`
Slices a dataset with a specified slice argument, enabling extraction of subarrays.

### 4. `get_shape`
Returns the shape of a dataset, providing insight into its dimensions.

### 5. `get_name`
Retrieves the name of a dataset. Can return either the full path or just the dataset name.

### 6. `tile_array`
Repeats the entire array n-times using NumPy's `tile` function, useful for data replication.

### 7. `repeat_array`
Repeats each element in the array n-times using NumPy's `repeat` function, suitable for element-wise duplication.

### 8. `get_all_child_datasets`
Extracts all datasets contained within a specified group, with options to ignore certain datasets or filter by name content.

## Usage and Extensibility

Transformations are registered via a decorator, allowing users to extend the parser with custom functions. The decorator ensures that each transformation is properly integrated into the `HDF5Reader` class, with error handling to catch and report issues during transformation execution.

## Error Handling

Custom exceptions such as `HDF5TransformationError` are used to signal errors during transformations, providing clear feedback for debugging and data validation.

## Integration

The HDF5 File Reader is designed to work seamlessly with the `h5py` library for HDF5 file access and NumPy for data manipulation. It supports processing datasets in various formats, including `h5py.Dataset`, NumPy arrays, and dictionaries representing grouped data.

---

This documentation provides an overview of the capabilities and usage of the HDF5 File Reader within the Masci-tools package, enabling efficient and flexible data handling for scientific and engineering applications.